{"version":3,"file":"GistView-e400b85f.js","sources":["../../src/js/gist.ts","../../src/layout-manager/GistView.vue"],"sourcesContent":["import YAML from 'yaml'\n\nasync function load(id: string, options: any) {\n  try {\n    const params = options || {}\n\n    const gist = await (await fetch(`https://api.github.com/gists/${id}`)).json()\n    console.log({ gist })\n\n    // If a file was provided, use that one; otherwise use the first file in the gist\n    const data = params.file ? gist.files[params.file] : gist.files[Object.keys(gist.files)[0]]\n\n    var content = YAML.parse(data.content)\n    return content\n  } catch (e) {\n    console.error(e)\n  } finally {\n  }\n}\n\nexport default { load }\n","<template lang=\"pug\">\ndash-board(v-if=\"xsubfolder\"\n           root=\"gist\"\n           :gist=\"yaml\"\n           :xsubfolder=\"yaml.config.folder\")\n\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\nimport { FileSystem, FileSystemConfig } from '@/Globals'\nimport GIST from '@/js/gist'\nimport DashBoard from './DashBoard.vue'\n\nexport default defineComponent({\n  name: 'GistView',\n  components: { DashBoard },\n  props: {\n    id: { type: String, required: true },\n  },\n  data: () => {\n    return {\n      fileSystemConfig: null as FileSystemConfig | null,\n      yaml: {} as any,\n      xsubfolder: '',\n    }\n  },\n  async mounted() {\n    try {\n      // fetch the json/yaml!\n      this.yaml = await GIST.load(this.id, this.$route.params)\n      this.xsubfolder = this.yaml.config.folder\n    } catch (e) {}\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n</style>\n"],"names":["load","id","options","params","gist","data","content","YAML","GIST","_sfc_main","defineComponent","DashBoard"],"mappings":"uMAEA,eAAeA,EAAKC,EAAYC,EAAc,CACxC,GAAA,CACI,MAAAC,EAASD,GAAW,GAEpBE,EAAO,MAAO,MAAM,MAAM,gCAAgCH,CAAE,EAAE,GAAG,OAC/D,QAAA,IAAI,CAAE,KAAAG,CAAA,CAAM,EAGpB,MAAMC,EAAOF,EAAO,KAAOC,EAAK,MAAMD,EAAO,IAAI,EAAIC,EAAK,MAAM,OAAO,KAAKA,EAAK,KAAK,EAAE,CAAC,CAAC,EAE1F,IAAIE,EAAUC,EAAK,MAAMF,EAAK,OAAO,EAC9B,OAAAC,QACA,EAAG,CACV,QAAQ,MAAM,CAAC,CAAA,QACf,CACF,CACF,CAEA,MAAeE,EAAA,CAAE,KAAAR,CAAK,ECLtBS,EAAAC,EAAA,CACA,KAAA,WACA,WAAA,CAAA,UAAAC,CAAA,EACA,MAAA,CACA,GAAA,CAAA,KAAA,OAAA,SAAA,EAAA,CACA,EACA,KAAA,KACA,CACA,iBAAA,KACA,KAAA,CAAA,EACA,WAAA,EAAA,GAGA,MAAA,SAAA,CACA,GAAA,CAEA,KAAA,KAAA,MAAAH,EAAA,KAAA,KAAA,GAAA,KAAA,OAAA,MAAA,EACA,KAAA,WAAA,KAAA,KAAA,OAAA,YACA,CAAA,CACA,CACA,CAAA"}