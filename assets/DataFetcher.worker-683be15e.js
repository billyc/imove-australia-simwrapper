var Cu=Object.defineProperty;var ku=(ot,Me,lt)=>Me in ot?Cu(ot,Me,{enumerable:!0,configurable:!0,writable:!0,value:lt}):ot[Me]=lt;var bt=(ot,Me,lt)=>(ku(ot,typeof Me!="symbol"?Me+"":Me,lt),lt);(function(){"use strict";/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */function ft(e){let n=e.length;for(;--n>=0;)e[n]=0}const ka=0,lr=1,Ta=2,Na=3,Oa=258,_n=29,wt=256,At=wt+1+_n,ut=30,pn=19,fr=2*At+1,Qe=15,gn=16,$a=7,bn=256,ur=16,cr=17,hr=18,wn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Kt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),La=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),dr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ia=512,Oe=new Array((At+2)*2);ft(Oe);const Et=new Array(ut*2);ft(Et);const yt=new Array(Ia);ft(yt);const vt=new Array(Oa-Na+1);ft(vt);const An=new Array(_n);ft(An);const Xt=new Array(ut);ft(Xt);function En(e,n,t,i,r){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}let _r,pr,gr;function yn(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}const br=e=>e<256?yt[e]:yt[256+(e>>>7)],mt=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},he=(e,n,t)=>{e.bi_valid>gn-t?(e.bi_buf|=n<<e.bi_valid&65535,mt(e,e.bi_buf),e.bi_buf=n>>gn-e.bi_valid,e.bi_valid+=t-gn):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},Re=(e,n,t)=>{he(e,t[n*2],t[n*2+1])},wr=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},Ha=e=>{e.bi_valid===16?(mt(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Fa=(e,n)=>{const t=n.dyn_tree,i=n.max_code,r=n.stat_desc.static_tree,a=n.stat_desc.has_stree,s=n.stat_desc.extra_bits,o=n.stat_desc.extra_base,f=n.stat_desc.max_length;let l,u,p,h,g,A,v=0;for(h=0;h<=Qe;h++)e.bl_count[h]=0;for(t[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<fr;l++)u=e.heap[l],h=t[t[u*2+1]*2+1]+1,h>f&&(h=f,v++),t[u*2+1]=h,!(u>i)&&(e.bl_count[h]++,g=0,u>=o&&(g=s[u-o]),A=t[u*2],e.opt_len+=A*(h+g),a&&(e.static_len+=A*(r[u*2+1]+g)));if(v!==0){do{for(h=f-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[f]--,v-=2}while(v>0);for(h=f;h!==0;h--)for(u=e.bl_count[h];u!==0;)p=e.heap[--l],!(p>i)&&(t[p*2+1]!==h&&(e.opt_len+=(h-t[p*2+1])*t[p*2],t[p*2+1]=h),u--)}},Ar=(e,n,t)=>{const i=new Array(Qe+1);let r=0,a,s;for(a=1;a<=Qe;a++)i[a]=r=r+t[a-1]<<1;for(s=0;s<=n;s++){let o=e[s*2+1];o!==0&&(e[s*2]=wr(i[o]++,o))}},Ma=()=>{let e,n,t,i,r;const a=new Array(Qe+1);for(t=0,i=0;i<_n-1;i++)for(An[i]=t,e=0;e<1<<wn[i];e++)vt[t++]=i;for(vt[t-1]=i,r=0,i=0;i<16;i++)for(Xt[i]=r,e=0;e<1<<Kt[i];e++)yt[r++]=i;for(r>>=7;i<ut;i++)for(Xt[i]=r<<7,e=0;e<1<<Kt[i]-7;e++)yt[256+r++]=i;for(n=0;n<=Qe;n++)a[n]=0;for(e=0;e<=143;)Oe[e*2+1]=8,e++,a[8]++;for(;e<=255;)Oe[e*2+1]=9,e++,a[9]++;for(;e<=279;)Oe[e*2+1]=7,e++,a[7]++;for(;e<=287;)Oe[e*2+1]=8,e++,a[8]++;for(Ar(Oe,At+1,a),e=0;e<ut;e++)Et[e*2+1]=5,Et[e*2]=wr(e,5);_r=new En(Oe,wn,wt+1,At,Qe),pr=new En(Et,Kt,0,ut,Qe),gr=new En(new Array(0),La,0,pn,$a)},Er=e=>{let n;for(n=0;n<At;n++)e.dyn_ltree[n*2]=0;for(n=0;n<ut;n++)e.dyn_dtree[n*2]=0;for(n=0;n<pn;n++)e.bl_tree[n*2]=0;e.dyn_ltree[bn*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},yr=e=>{e.bi_valid>8?mt(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Ua=(e,n,t,i)=>{yr(e),i&&(mt(e,t),mt(e,~t)),e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},vr=(e,n,t,i)=>{const r=n*2,a=t*2;return e[r]<e[a]||e[r]===e[a]&&i[n]<=i[t]},vn=(e,n,t)=>{const i=e.heap[t];let r=t<<1;for(;r<=e.heap_len&&(r<e.heap_len&&vr(n,e.heap[r+1],e.heap[r],e.depth)&&r++,!vr(n,i,e.heap[r],e.depth));)e.heap[t]=e.heap[r],t=r,r<<=1;e.heap[t]=i},mr=(e,n,t)=>{let i,r,a=0,s,o;if(e.last_lit!==0)do i=e.pending_buf[e.d_buf+a*2]<<8|e.pending_buf[e.d_buf+a*2+1],r=e.pending_buf[e.l_buf+a],a++,i===0?Re(e,r,n):(s=vt[r],Re(e,s+wt+1,n),o=wn[s],o!==0&&(r-=An[s],he(e,r,o)),i--,s=br(i),Re(e,s,t),o=Kt[s],o!==0&&(i-=Xt[s],he(e,i,o)));while(a<e.last_lit);Re(e,bn,n)},mn=(e,n)=>{const t=n.dyn_tree,i=n.stat_desc.static_tree,r=n.stat_desc.has_stree,a=n.stat_desc.elems;let s,o,f=-1,l;for(e.heap_len=0,e.heap_max=fr,s=0;s<a;s++)t[s*2]!==0?(e.heap[++e.heap_len]=f=s,e.depth[s]=0):t[s*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=f<2?++f:0,t[l*2]=1,e.depth[l]=0,e.opt_len--,r&&(e.static_len-=i[l*2+1]);for(n.max_code=f,s=e.heap_len>>1;s>=1;s--)vn(e,t,s);l=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],vn(e,t,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,t[l*2]=t[s*2]+t[o*2],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,t[s*2+1]=t[o*2+1]=l,e.heap[1]=l++,vn(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Fa(e,n),Ar(t,f,e.bl_count)},Rr=(e,n,t)=>{let i,r=-1,a,s=n[0*2+1],o=0,f=7,l=4;for(s===0&&(f=138,l=3),n[(t+1)*2+1]=65535,i=0;i<=t;i++)a=s,s=n[(i+1)*2+1],!(++o<f&&a===s)&&(o<l?e.bl_tree[a*2]+=o:a!==0?(a!==r&&e.bl_tree[a*2]++,e.bl_tree[ur*2]++):o<=10?e.bl_tree[cr*2]++:e.bl_tree[hr*2]++,o=0,r=a,s===0?(f=138,l=3):a===s?(f=6,l=3):(f=7,l=4))},xr=(e,n,t)=>{let i,r=-1,a,s=n[0*2+1],o=0,f=7,l=4;for(s===0&&(f=138,l=3),i=0;i<=t;i++)if(a=s,s=n[(i+1)*2+1],!(++o<f&&a===s)){if(o<l)do Re(e,a,e.bl_tree);while(--o!==0);else a!==0?(a!==r&&(Re(e,a,e.bl_tree),o--),Re(e,ur,e.bl_tree),he(e,o-3,2)):o<=10?(Re(e,cr,e.bl_tree),he(e,o-3,3)):(Re(e,hr,e.bl_tree),he(e,o-11,7));o=0,r=a,s===0?(f=138,l=3):a===s?(f=6,l=3):(f=7,l=4)}},za=e=>{let n;for(Rr(e,e.dyn_ltree,e.l_desc.max_code),Rr(e,e.dyn_dtree,e.d_desc.max_code),mn(e,e.bl_desc),n=pn-1;n>=3&&e.bl_tree[dr[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},Pa=(e,n,t,i)=>{let r;for(he(e,n-257,5),he(e,t-1,5),he(e,i-4,4),r=0;r<i;r++)he(e,e.bl_tree[dr[r]*2+1],3);xr(e,e.dyn_ltree,n-1),xr(e,e.dyn_dtree,t-1)},Ba=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(t=32;t<wt;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0};let Sr=!1;const Da=e=>{Sr||(Ma(),Sr=!0),e.l_desc=new yn(e.dyn_ltree,_r),e.d_desc=new yn(e.dyn_dtree,pr),e.bl_desc=new yn(e.bl_tree,gr),e.bi_buf=0,e.bi_valid=0,Er(e)},Cr=(e,n,t,i)=>{he(e,(ka<<1)+(i?1:0),3),Ua(e,n,t,!0)},Za=e=>{he(e,lr<<1,3),Re(e,bn,Oe),Ha(e)},Ga=(e,n,t,i)=>{let r,a,s=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=Ba(e)),mn(e,e.l_desc),mn(e,e.d_desc),s=za(e),r=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=r&&(r=a)):r=a=t+5,t+4<=r&&n!==-1?Cr(e,n,t,i):e.strategy===4||a===r?(he(e,(lr<<1)+(i?1:0),3),mr(e,Oe,Et)):(he(e,(Ta<<1)+(i?1:0),3),Pa(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),mr(e,e.dyn_ltree,e.dyn_dtree)),Er(e),i&&yr(e)},Ka=(e,n,t)=>(e.pending_buf[e.d_buf+e.last_lit*2]=n>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=n&255,e.pending_buf[e.l_buf+e.last_lit]=t&255,e.last_lit++,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(vt[t]+wt+1)*2]++,e.dyn_dtree[br(n)*2]++),e.last_lit===e.lit_bufsize-1);var Xa=Da,Wa=Cr,ja=Ga,qa=Ka,Qa=Za,Ya={_tr_init:Xa,_tr_stored_block:Wa,_tr_flush_block:ja,_tr_tally:qa,_tr_align:Qa},Rt=(e,n,t,i)=>{let r=e&65535|0,a=e>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do r=r+n[i++]|0,a=a+r|0;while(--s);r%=65521,a%=65521}return r|a<<16|0};const Va=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},Ja=new Uint32Array(Va());var le=(e,n,t,i)=>{const r=Ja,a=i+t;e^=-1;for(let s=i;s<a;s++)e=e>>>8^r[(e^n[s])&255];return e^-1},Ye={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ve={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:es,_tr_stored_block:ts,_tr_flush_block:ns,_tr_tally:Ue,_tr_align:rs}=Ya,{Z_NO_FLUSH:Je,Z_PARTIAL_FLUSH:is,Z_FULL_FLUSH:as,Z_FINISH:ze,Z_BLOCK:kr,Z_OK:xe,Z_STREAM_END:Tr,Z_STREAM_ERROR:be,Z_DATA_ERROR:ss,Z_BUF_ERROR:Rn,Z_DEFAULT_COMPRESSION:os,Z_FILTERED:ls,Z_HUFFMAN_ONLY:Wt,Z_RLE:fs,Z_FIXED:us,Z_DEFAULT_STRATEGY:cs,Z_UNKNOWN:hs,Z_DEFLATED:jt}=Ve,ds=9,_s=15,ps=8,gs=29,xn=256+1+gs,bs=30,ws=19,As=2*xn+1,Es=15,K=3,Pe=258,ve=Pe+K+1,ys=32,qt=42,Sn=69,Qt=73,Yt=91,Vt=103,et=113,xt=666,oe=1,St=2,tt=3,ct=4,vs=3,Be=(e,n)=>(e.msg=Ye[n],n),Nr=e=>(e<<1)-(e>4?9:0),De=e=>{let n=e.length;for(;--n>=0;)e[n]=0};let Ze=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask;const Ge=e=>{const n=e.state;let t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},fe=(e,n)=>{ns(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,Ge(e.strm)},X=(e,n)=>{e.pending_buf[e.pending++]=n},Ct=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},ms=(e,n,t,i)=>{let r=e.avail_in;return r>i&&(r=i),r===0?0:(e.avail_in-=r,n.set(e.input.subarray(e.next_in,e.next_in+r),t),e.state.wrap===1?e.adler=Rt(e.adler,n,r,t):e.state.wrap===2&&(e.adler=le(e.adler,n,r,t)),e.next_in+=r,e.total_in+=r,r)},Or=(e,n)=>{let t=e.max_chain_length,i=e.strstart,r,a,s=e.prev_length,o=e.nice_match;const f=e.strstart>e.w_size-ve?e.strstart-(e.w_size-ve):0,l=e.window,u=e.w_mask,p=e.prev,h=e.strstart+Pe;let g=l[i+s-1],A=l[i+s];e.prev_length>=e.good_match&&(t>>=2),o>e.lookahead&&(o=e.lookahead);do if(r=n,!(l[r+s]!==A||l[r+s-1]!==g||l[r]!==l[i]||l[++r]!==l[i+1])){i+=2,r++;do;while(l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&i<h);if(a=Pe-(h-i),i=h-Pe,a>s){if(e.match_start=n,s=a,a>=o)break;g=l[i+s-1],A=l[i+s]}}while((n=p[n&u])>f&&--t!==0);return s<=e.lookahead?s:e.lookahead},nt=e=>{const n=e.w_size;let t,i,r,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-ve)){e.window.set(e.window.subarray(n,n+n),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,i=e.hash_size,t=i;do r=e.head[--t],e.head[t]=r>=n?r-n:0;while(--i);i=n,t=i;do r=e.prev[--t],e.prev[t]=r>=n?r-n:0;while(--i);a+=n}if(e.strm.avail_in===0)break;if(i=ms(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=i,e.lookahead+e.insert>=K)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=Ze(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=Ze(e,e.ins_h,e.window[s+K-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<K)););}while(e.lookahead<ve&&e.strm.avail_in!==0)},Rs=(e,n)=>{let t=65535;for(t>e.pending_buf_size-5&&(t=e.pending_buf_size-5);;){if(e.lookahead<=1){if(nt(e),e.lookahead===0&&n===Je)return oe;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;const i=e.block_start+t;if((e.strstart===0||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,fe(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-ve&&(fe(e,!1),e.strm.avail_out===0))return oe}return e.insert=0,n===ze?(fe(e,!0),e.strm.avail_out===0?tt:ct):(e.strstart>e.block_start&&(fe(e,!1),e.strm.avail_out===0),oe)},Cn=(e,n)=>{let t,i;for(;;){if(e.lookahead<ve){if(nt(e),e.lookahead<ve&&n===Je)return oe;if(e.lookahead===0)break}if(t=0,e.lookahead>=K&&(e.ins_h=Ze(e,e.ins_h,e.window[e.strstart+K-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-ve&&(e.match_length=Or(e,t)),e.match_length>=K)if(i=Ue(e,e.strstart-e.match_start,e.match_length-K),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=K){e.match_length--;do e.strstart++,e.ins_h=Ze(e,e.ins_h,e.window[e.strstart+K-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ze(e,e.ins_h,e.window[e.strstart+1]);else i=Ue(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(fe(e,!1),e.strm.avail_out===0))return oe}return e.insert=e.strstart<K-1?e.strstart:K-1,n===ze?(fe(e,!0),e.strm.avail_out===0?tt:ct):e.last_lit&&(fe(e,!1),e.strm.avail_out===0)?oe:St},ht=(e,n)=>{let t,i,r;for(;;){if(e.lookahead<ve){if(nt(e),e.lookahead<ve&&n===Je)return oe;if(e.lookahead===0)break}if(t=0,e.lookahead>=K&&(e.ins_h=Ze(e,e.ins_h,e.window[e.strstart+K-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=K-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-ve&&(e.match_length=Or(e,t),e.match_length<=5&&(e.strategy===ls||e.match_length===K&&e.strstart-e.match_start>4096)&&(e.match_length=K-1)),e.prev_length>=K&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-K,i=Ue(e,e.strstart-1-e.prev_match,e.prev_length-K),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=Ze(e,e.ins_h,e.window[e.strstart+K-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=K-1,e.strstart++,i&&(fe(e,!1),e.strm.avail_out===0))return oe}else if(e.match_available){if(i=Ue(e,0,e.window[e.strstart-1]),i&&fe(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return oe}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=Ue(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<K-1?e.strstart:K-1,n===ze?(fe(e,!0),e.strm.avail_out===0?tt:ct):e.last_lit&&(fe(e,!1),e.strm.avail_out===0)?oe:St},xs=(e,n)=>{let t,i,r,a;const s=e.window;for(;;){if(e.lookahead<=Pe){if(nt(e),e.lookahead<=Pe&&n===Je)return oe;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=K&&e.strstart>0&&(r=e.strstart-1,i=s[r],i===s[++r]&&i===s[++r]&&i===s[++r])){a=e.strstart+Pe;do;while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);e.match_length=Pe-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=K?(t=Ue(e,1,e.match_length-K),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=Ue(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(fe(e,!1),e.strm.avail_out===0))return oe}return e.insert=0,n===ze?(fe(e,!0),e.strm.avail_out===0?tt:ct):e.last_lit&&(fe(e,!1),e.strm.avail_out===0)?oe:St},Ss=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(nt(e),e.lookahead===0)){if(n===Je)return oe;break}if(e.match_length=0,t=Ue(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(fe(e,!1),e.strm.avail_out===0))return oe}return e.insert=0,n===ze?(fe(e,!0),e.strm.avail_out===0?tt:ct):e.last_lit&&(fe(e,!1),e.strm.avail_out===0)?oe:St};function Se(e,n,t,i,r){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=i,this.func=r}const kt=[new Se(0,0,0,0,Rs),new Se(4,4,8,4,Cn),new Se(4,5,16,8,Cn),new Se(4,6,32,32,Cn),new Se(4,4,16,16,ht),new Se(8,16,32,32,ht),new Se(8,16,128,128,ht),new Se(8,32,128,256,ht),new Se(32,128,258,1024,ht),new Se(32,258,258,4096,ht)],Cs=e=>{e.window_size=2*e.w_size,De(e.head),e.max_lazy_match=kt[e.level].max_lazy,e.good_match=kt[e.level].good_length,e.nice_match=kt[e.level].nice_length,e.max_chain_length=kt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=K-1,e.match_available=0,e.ins_h=0};function ks(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=jt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(As*2),this.dyn_dtree=new Uint16Array((2*bs+1)*2),this.bl_tree=new Uint16Array((2*ws+1)*2),De(this.dyn_ltree),De(this.dyn_dtree),De(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Es+1),this.heap=new Uint16Array(2*xn+1),De(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*xn+1),De(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const $r=e=>{if(!e||!e.state)return Be(e,be);e.total_in=e.total_out=0,e.data_type=hs;const n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?qt:et,e.adler=n.wrap===2?0:1,n.last_flush=Je,es(n),xe},Lr=e=>{const n=$r(e);return n===xe&&Cs(e.state),n},Ts=(e,n)=>!e||!e.state||e.state.wrap!==2?be:(e.state.gzhead=n,xe),Ir=(e,n,t,i,r,a)=>{if(!e)return be;let s=1;if(n===os&&(n=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>ds||t!==jt||i<8||i>15||n<0||n>9||a<0||a>us)return Be(e,be);i===8&&(i=9);const o=new ks;return e.state=o,o.strm=e,o.wrap=s,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+K-1)/K),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=(1+2)*o.lit_bufsize,o.level=n,o.strategy=a,o.method=t,Lr(e)},Ns=(e,n)=>Ir(e,n,jt,_s,ps,cs),Os=(e,n)=>{let t,i;if(!e||!e.state||n>kr||n<0)return e?Be(e,be):be;const r=e.state;if(!e.output||!e.input&&e.avail_in!==0||r.status===xt&&n!==ze)return Be(e,e.avail_out===0?Rn:be);r.strm=e;const a=r.last_flush;if(r.last_flush=n,r.status===qt)if(r.wrap===2)e.adler=0,X(r,31),X(r,139),X(r,8),r.gzhead?(X(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),X(r,r.gzhead.time&255),X(r,r.gzhead.time>>8&255),X(r,r.gzhead.time>>16&255),X(r,r.gzhead.time>>24&255),X(r,r.level===9?2:r.strategy>=Wt||r.level<2?4:0),X(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(X(r,r.gzhead.extra.length&255),X(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=le(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Sn):(X(r,0),X(r,0),X(r,0),X(r,0),X(r,0),X(r,r.level===9?2:r.strategy>=Wt||r.level<2?4:0),X(r,vs),r.status=et);else{let s=jt+(r.w_bits-8<<4)<<8,o=-1;r.strategy>=Wt||r.level<2?o=0:r.level<6?o=1:r.level===6?o=2:o=3,s|=o<<6,r.strstart!==0&&(s|=ys),s+=31-s%31,r.status=et,Ct(r,s),r.strstart!==0&&(Ct(r,e.adler>>>16),Ct(r,e.adler&65535)),e.adler=1}if(r.status===Sn)if(r.gzhead.extra){for(t=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>t&&(e.adler=le(e.adler,r.pending_buf,r.pending-t,t)),Ge(e),t=r.pending,r.pending===r.pending_buf_size));)X(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>t&&(e.adler=le(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=Qt)}else r.status=Qt;if(r.status===Qt)if(r.gzhead.name){t=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>t&&(e.adler=le(e.adler,r.pending_buf,r.pending-t,t)),Ge(e),t=r.pending,r.pending===r.pending_buf_size)){i=1;break}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,X(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>t&&(e.adler=le(e.adler,r.pending_buf,r.pending-t,t)),i===0&&(r.gzindex=0,r.status=Yt)}else r.status=Yt;if(r.status===Yt)if(r.gzhead.comment){t=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>t&&(e.adler=le(e.adler,r.pending_buf,r.pending-t,t)),Ge(e),t=r.pending,r.pending===r.pending_buf_size)){i=1;break}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,X(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>t&&(e.adler=le(e.adler,r.pending_buf,r.pending-t,t)),i===0&&(r.status=Vt)}else r.status=Vt;if(r.status===Vt&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Ge(e),r.pending+2<=r.pending_buf_size&&(X(r,e.adler&255),X(r,e.adler>>8&255),e.adler=0,r.status=et)):r.status=et),r.pending!==0){if(Ge(e),e.avail_out===0)return r.last_flush=-1,xe}else if(e.avail_in===0&&Nr(n)<=Nr(a)&&n!==ze)return Be(e,Rn);if(r.status===xt&&e.avail_in!==0)return Be(e,Rn);if(e.avail_in!==0||r.lookahead!==0||n!==Je&&r.status!==xt){let s=r.strategy===Wt?Ss(r,n):r.strategy===fs?xs(r,n):kt[r.level].func(r,n);if((s===tt||s===ct)&&(r.status=xt),s===oe||s===tt)return e.avail_out===0&&(r.last_flush=-1),xe;if(s===St&&(n===is?rs(r):n!==kr&&(ts(r,0,0,!1),n===as&&(De(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Ge(e),e.avail_out===0))return r.last_flush=-1,xe}return n!==ze?xe:r.wrap<=0?Tr:(r.wrap===2?(X(r,e.adler&255),X(r,e.adler>>8&255),X(r,e.adler>>16&255),X(r,e.adler>>24&255),X(r,e.total_in&255),X(r,e.total_in>>8&255),X(r,e.total_in>>16&255),X(r,e.total_in>>24&255)):(Ct(r,e.adler>>>16),Ct(r,e.adler&65535)),Ge(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?xe:Tr)},$s=e=>{if(!e||!e.state)return be;const n=e.state.status;return n!==qt&&n!==Sn&&n!==Qt&&n!==Yt&&n!==Vt&&n!==et&&n!==xt?Be(e,be):(e.state=null,n===et?Be(e,ss):xe)},Ls=(e,n)=>{let t=n.length;if(!e||!e.state)return be;const i=e.state,r=i.wrap;if(r===2||r===1&&i.status!==qt||i.lookahead)return be;if(r===1&&(e.adler=Rt(e.adler,n,t,0)),i.wrap=0,t>=i.w_size){r===0&&(De(i.head),i.strstart=0,i.block_start=0,i.insert=0);let f=new Uint8Array(i.w_size);f.set(n.subarray(t-i.w_size,t),0),n=f,t=i.w_size}const a=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,nt(i);i.lookahead>=K;){let f=i.strstart,l=i.lookahead-(K-1);do i.ins_h=Ze(i,i.ins_h,i.window[f+K-1]),i.prev[f&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=f,f++;while(--l);i.strstart=f,i.lookahead=K-1,nt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=K-1,i.match_available=0,e.next_in=s,e.input=o,e.avail_in=a,i.wrap=r,xe};var Is=Ns,Hs=Ir,Fs=Lr,Ms=$r,Us=Ts,zs=Os,Ps=$s,Bs=Ls,Ds="pako deflate (from Nodeca project)",Tt={deflateInit:Is,deflateInit2:Hs,deflateReset:Fs,deflateResetKeep:Ms,deflateSetHeader:Us,deflate:zs,deflateEnd:Ps,deflateSetDictionary:Bs,deflateInfo:Ds};const Zs=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var Gs=function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)Zs(t,i)&&(e[i]=t[i])}}return e},Ks=e=>{let n=0;for(let i=0,r=e.length;i<r;i++)n+=e[i].length;const t=new Uint8Array(n);for(let i=0,r=0,a=e.length;i<a;i++){let s=e[i];t.set(s,r),r+=s.length}return t},Jt={assign:Gs,flattenChunks:Ks};let Hr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Hr=!1}const Nt=new Uint8Array(256);for(let e=0;e<256;e++)Nt[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Nt[254]=Nt[254]=1;var Xs=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,i,r,a,s=e.length,o=0;for(r=0;r<s;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<s&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(o),a=0,r=0;a<o;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<s&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?n[a++]=t:t<2048?(n[a++]=192|t>>>6,n[a++]=128|t&63):t<65536?(n[a++]=224|t>>>12,n[a++]=128|t>>>6&63,n[a++]=128|t&63):(n[a++]=240|t>>>18,n[a++]=128|t>>>12&63,n[a++]=128|t>>>6&63,n[a++]=128|t&63);return n};const Ws=(e,n)=>{if(n<65534&&e.subarray&&Hr)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return t};var js=(e,n)=>{const t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let i,r;const a=new Array(t*2);for(r=0,i=0;i<t;){let s=e[i++];if(s<128){a[r++]=s;continue}let o=Nt[s];if(o>4){a[r++]=65533,i+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&i<t;)s=s<<6|e[i++]&63,o--;if(o>1){a[r++]=65533;continue}s<65536?a[r++]=s:(s-=65536,a[r++]=55296|s>>10&1023,a[r++]=56320|s&1023)}return Ws(a,r)},qs=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+Nt[e[t]]>n?t:n},Ot={string2buf:Xs,buf2string:js,utf8border:qs};function Qs(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Fr=Qs;const Mr=Object.prototype.toString,{Z_NO_FLUSH:Ys,Z_SYNC_FLUSH:Vs,Z_FULL_FLUSH:Js,Z_FINISH:eo,Z_OK:en,Z_STREAM_END:to,Z_DEFAULT_COMPRESSION:no,Z_DEFAULT_STRATEGY:ro,Z_DEFLATED:io}=Ve;function $t(e){this.options=Jt.assign({level:no,method:io,chunkSize:16384,windowBits:15,memLevel:8,strategy:ro},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Fr,this.strm.avail_out=0;let t=Tt.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==en)throw new Error(Ye[t]);if(n.header&&Tt.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=Ot.string2buf(n.dictionary):Mr.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,t=Tt.deflateSetDictionary(this.strm,i),t!==en)throw new Error(Ye[t]);this._dict_set=!0}}$t.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize;let r,a;if(this.ended)return!1;for(n===~~n?a=n:a=n===!0?eo:Ys,typeof e=="string"?t.input=Ot.string2buf(e):Mr.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(a===Vs||a===Js)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=Tt.deflate(t,a),r===to)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=Tt.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===en;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0},$t.prototype.onData=function(e){this.chunks.push(e)},$t.prototype.onEnd=function(e){e===en&&(this.result=Jt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function kn(e,n){const t=new $t(n);if(t.push(e,!0),t.err)throw t.msg||Ye[t.err];return t.result}function ao(e,n){return n=n||{},n.raw=!0,kn(e,n)}function so(e,n){return n=n||{},n.gzip=!0,kn(e,n)}var oo=$t,lo=kn,fo=ao,uo=so,co=Ve,ho={Deflate:oo,deflate:lo,deflateRaw:fo,gzip:uo,constants:co};const tn=30,_o=12;var po=function(n,t){let i,r,a,s,o,f,l,u,p,h,g,A,v,T,O,B,L,C,z,j,N,y,_,d;const c=n.state;i=n.next_in,_=n.input,r=i+(n.avail_in-5),a=n.next_out,d=n.output,s=a-(t-n.avail_out),o=a+(n.avail_out-257),f=c.dmax,l=c.wsize,u=c.whave,p=c.wnext,h=c.window,g=c.hold,A=c.bits,v=c.lencode,T=c.distcode,O=(1<<c.lenbits)-1,B=(1<<c.distbits)-1;e:do{A<15&&(g+=_[i++]<<A,A+=8,g+=_[i++]<<A,A+=8),L=v[g&O];t:for(;;){if(C=L>>>24,g>>>=C,A-=C,C=L>>>16&255,C===0)d[a++]=L&65535;else if(C&16){z=L&65535,C&=15,C&&(A<C&&(g+=_[i++]<<A,A+=8),z+=g&(1<<C)-1,g>>>=C,A-=C),A<15&&(g+=_[i++]<<A,A+=8,g+=_[i++]<<A,A+=8),L=T[g&B];n:for(;;){if(C=L>>>24,g>>>=C,A-=C,C=L>>>16&255,C&16){if(j=L&65535,C&=15,A<C&&(g+=_[i++]<<A,A+=8,A<C&&(g+=_[i++]<<A,A+=8)),j+=g&(1<<C)-1,j>f){n.msg="invalid distance too far back",c.mode=tn;break e}if(g>>>=C,A-=C,C=a-s,j>C){if(C=j-C,C>u&&c.sane){n.msg="invalid distance too far back",c.mode=tn;break e}if(N=0,y=h,p===0){if(N+=l-C,C<z){z-=C;do d[a++]=h[N++];while(--C);N=a-j,y=d}}else if(p<C){if(N+=l+p-C,C-=p,C<z){z-=C;do d[a++]=h[N++];while(--C);if(N=0,p<z){C=p,z-=C;do d[a++]=h[N++];while(--C);N=a-j,y=d}}}else if(N+=p-C,C<z){z-=C;do d[a++]=h[N++];while(--C);N=a-j,y=d}for(;z>2;)d[a++]=y[N++],d[a++]=y[N++],d[a++]=y[N++],z-=3;z&&(d[a++]=y[N++],z>1&&(d[a++]=y[N++]))}else{N=a-j;do d[a++]=d[N++],d[a++]=d[N++],d[a++]=d[N++],z-=3;while(z>2);z&&(d[a++]=d[N++],z>1&&(d[a++]=d[N++]))}}else if(C&64){n.msg="invalid distance code",c.mode=tn;break e}else{L=T[(L&65535)+(g&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){c.mode=_o;break e}else{n.msg="invalid literal/length code",c.mode=tn;break e}else{L=v[(L&65535)+(g&(1<<C)-1)];continue t}break}}while(i<r&&a<o);z=A>>3,i-=z,A-=z<<3,g&=(1<<A)-1,n.next_in=i,n.next_out=a,n.avail_in=i<r?5+(r-i):5-(i-r),n.avail_out=a<o?257+(o-a):257-(a-o),c.hold=g,c.bits=A};const dt=15,Ur=852,zr=592,Pr=0,Tn=1,Br=2,go=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),bo=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),wo=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ao=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Lt=(e,n,t,i,r,a,s,o)=>{const f=o.bits;let l=0,u=0,p=0,h=0,g=0,A=0,v=0,T=0,O=0,B=0,L,C,z,j,N,y=null,_=0,d;const c=new Uint16Array(dt+1),R=new Uint16Array(dt+1);let S=null,M=0,b,w,G;for(l=0;l<=dt;l++)c[l]=0;for(u=0;u<i;u++)c[n[t+u]]++;for(g=f,h=dt;h>=1&&c[h]===0;h--);if(g>h&&(g=h),h===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<h&&c[p]===0;p++);for(g<p&&(g=p),T=1,l=1;l<=dt;l++)if(T<<=1,T-=c[l],T<0)return-1;if(T>0&&(e===Pr||h!==1))return-1;for(R[1]=0,l=1;l<dt;l++)R[l+1]=R[l]+c[l];for(u=0;u<i;u++)n[t+u]!==0&&(s[R[n[t+u]]++]=u);if(e===Pr?(y=S=s,d=19):e===Tn?(y=go,_-=257,S=bo,M-=257,d=256):(y=wo,S=Ao,d=-1),B=0,u=0,l=p,N=a,A=g,v=0,z=-1,O=1<<g,j=O-1,e===Tn&&O>Ur||e===Br&&O>zr)return 1;for(;;){b=l-v,s[u]<d?(w=0,G=s[u]):s[u]>d?(w=S[M+s[u]],G=y[_+s[u]]):(w=32+64,G=0),L=1<<l-v,C=1<<A,p=C;do C-=L,r[N+(B>>v)+C]=b<<24|w<<16|G|0;while(C!==0);for(L=1<<l-1;B&L;)L>>=1;if(L!==0?(B&=L-1,B+=L):B=0,u++,--c[l]===0){if(l===h)break;l=n[t+s[u]]}if(l>g&&(B&j)!==z){for(v===0&&(v=g),N+=p,A=l-v,T=1<<A;A+v<h&&(T-=c[A+v],!(T<=0));)A++,T<<=1;if(O+=1<<A,e===Tn&&O>Ur||e===Br&&O>zr)return 1;z=B&j,r[z]=g<<24|A<<16|N-a|0}}return B!==0&&(r[N+B]=l-v<<24|64<<16|0),o.bits=g,0};const Eo=0,Dr=1,Zr=2,{Z_FINISH:Gr,Z_BLOCK:yo,Z_TREES:nn,Z_OK:rt,Z_STREAM_END:vo,Z_NEED_DICT:mo,Z_STREAM_ERROR:we,Z_DATA_ERROR:Kr,Z_MEM_ERROR:Xr,Z_BUF_ERROR:Ro,Z_DEFLATED:Wr}=Ve,jr=1,qr=2,Qr=3,Yr=4,Vr=5,Jr=6,ei=7,ti=8,ni=9,ri=10,rn=11,$e=12,Nn=13,ii=14,On=15,ai=16,si=17,oi=18,li=19,an=20,sn=21,fi=22,ui=23,ci=24,hi=25,di=26,$n=27,_i=28,pi=29,Y=30,gi=31,xo=32,So=852,Co=592,ko=15,bi=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function To(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wi=e=>{if(!e||!e.state)return we;const n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=jr,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(So),n.distcode=n.distdyn=new Int32Array(Co),n.sane=1,n.back=-1,rt},Ai=e=>{if(!e||!e.state)return we;const n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,wi(e)},Ei=(e,n)=>{let t;if(!e||!e.state)return we;const i=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+1,n<48&&(n&=15)),n&&(n<8||n>15)?we:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=t,i.wbits=n,Ai(e))},yi=(e,n)=>{if(!e)return we;const t=new To;e.state=t,t.window=null;const i=Ei(e,n);return i!==rt&&(e.state=null),i},No=e=>yi(e,ko);let vi=!0,Ln,In;const Oo=e=>{if(vi){Ln=new Int32Array(512),In=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(Lt(Dr,e.lens,0,288,Ln,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;Lt(Zr,e.lens,0,32,In,0,e.work,{bits:5}),vi=!1}e.lencode=Ln,e.lenbits=9,e.distcode=In,e.distbits=5},mi=(e,n,t,i)=>{let r;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(n.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>i&&(r=i),a.window.set(n.subarray(t-i,t-i+r),a.wnext),i-=r,i?(a.window.set(n.subarray(t-i,t),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},$o=(e,n)=>{let t,i,r,a,s,o,f,l,u,p,h,g,A,v,T=0,O,B,L,C,z,j,N,y;const _=new Uint8Array(4);let d,c;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return we;t=e.state,t.mode===$e&&(t.mode=Nn),s=e.next_out,r=e.output,f=e.avail_out,a=e.next_in,i=e.input,o=e.avail_in,l=t.hold,u=t.bits,p=o,h=f,y=rt;e:for(;;)switch(t.mode){case jr:if(t.wrap===0){t.mode=Nn;break}for(;u<16;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}if(t.wrap&2&&l===35615){t.check=0,_[0]=l&255,_[1]=l>>>8&255,t.check=le(t.check,_,2,0),l=0,u=0,t.mode=qr;break}if(t.flags=0,t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",t.mode=Y;break}if((l&15)!==Wr){e.msg="unknown compression method",t.mode=Y;break}if(l>>>=4,u-=4,N=(l&15)+8,t.wbits===0)t.wbits=N;else if(N>t.wbits){e.msg="invalid window size",t.mode=Y;break}t.dmax=1<<t.wbits,e.adler=t.check=1,t.mode=l&512?ri:$e,l=0,u=0;break;case qr:for(;u<16;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}if(t.flags=l,(t.flags&255)!==Wr){e.msg="unknown compression method",t.mode=Y;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=Y;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&(_[0]=l&255,_[1]=l>>>8&255,t.check=le(t.check,_,2,0)),l=0,u=0,t.mode=Qr;case Qr:for(;u<32;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}t.head&&(t.head.time=l),t.flags&512&&(_[0]=l&255,_[1]=l>>>8&255,_[2]=l>>>16&255,_[3]=l>>>24&255,t.check=le(t.check,_,4,0)),l=0,u=0,t.mode=Yr;case Yr:for(;u<16;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&(_[0]=l&255,_[1]=l>>>8&255,t.check=le(t.check,_,2,0)),l=0,u=0,t.mode=Vr;case Vr:if(t.flags&1024){for(;u<16;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&(_[0]=l&255,_[1]=l>>>8&255,t.check=le(t.check,_,2,0)),l=0,u=0}else t.head&&(t.head.extra=null);t.mode=Jr;case Jr:if(t.flags&1024&&(g=t.length,g>o&&(g=o),g&&(t.head&&(N=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(a,a+g),N)),t.flags&512&&(t.check=le(t.check,i,g,a)),o-=g,a+=g,t.length-=g),t.length))break e;t.length=0,t.mode=ei;case ei:if(t.flags&2048){if(o===0)break e;g=0;do N=i[a+g++],t.head&&N&&t.length<65536&&(t.head.name+=String.fromCharCode(N));while(N&&g<o);if(t.flags&512&&(t.check=le(t.check,i,g,a)),o-=g,a+=g,N)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=ti;case ti:if(t.flags&4096){if(o===0)break e;g=0;do N=i[a+g++],t.head&&N&&t.length<65536&&(t.head.comment+=String.fromCharCode(N));while(N&&g<o);if(t.flags&512&&(t.check=le(t.check,i,g,a)),o-=g,a+=g,N)break e}else t.head&&(t.head.comment=null);t.mode=ni;case ni:if(t.flags&512){for(;u<16;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}if(l!==(t.check&65535)){e.msg="header crc mismatch",t.mode=Y;break}l=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=$e;break;case ri:for(;u<32;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}e.adler=t.check=bi(l),l=0,u=0,t.mode=rn;case rn:if(t.havedict===0)return e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=u,mo;e.adler=t.check=1,t.mode=$e;case $e:if(n===yo||n===nn)break e;case Nn:if(t.last){l>>>=u&7,u-=u&7,t.mode=$n;break}for(;u<3;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}switch(t.last=l&1,l>>>=1,u-=1,l&3){case 0:t.mode=ii;break;case 1:if(Oo(t),t.mode=an,n===nn){l>>>=2,u-=2;break e}break;case 2:t.mode=si;break;case 3:e.msg="invalid block type",t.mode=Y}l>>>=2,u-=2;break;case ii:for(l>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",t.mode=Y;break}if(t.length=l&65535,l=0,u=0,t.mode=On,n===nn)break e;case On:t.mode=ai;case ai:if(g=t.length,g){if(g>o&&(g=o),g>f&&(g=f),g===0)break e;r.set(i.subarray(a,a+g),s),o-=g,a+=g,f-=g,s+=g,t.length-=g;break}t.mode=$e;break;case si:for(;u<14;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}if(t.nlen=(l&31)+257,l>>>=5,u-=5,t.ndist=(l&31)+1,l>>>=5,u-=5,t.ncode=(l&15)+4,l>>>=4,u-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=Y;break}t.have=0,t.mode=oi;case oi:for(;t.have<t.ncode;){for(;u<3;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}t.lens[R[t.have++]]=l&7,l>>>=3,u-=3}for(;t.have<19;)t.lens[R[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,d={bits:t.lenbits},y=Lt(Eo,t.lens,0,19,t.lencode,0,t.work,d),t.lenbits=d.bits,y){e.msg="invalid code lengths set",t.mode=Y;break}t.have=0,t.mode=li;case li:for(;t.have<t.nlen+t.ndist;){for(;T=t.lencode[l&(1<<t.lenbits)-1],O=T>>>24,B=T>>>16&255,L=T&65535,!(O<=u);){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}if(L<16)l>>>=O,u-=O,t.lens[t.have++]=L;else{if(L===16){for(c=O+2;u<c;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}if(l>>>=O,u-=O,t.have===0){e.msg="invalid bit length repeat",t.mode=Y;break}N=t.lens[t.have-1],g=3+(l&3),l>>>=2,u-=2}else if(L===17){for(c=O+3;u<c;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}l>>>=O,u-=O,N=0,g=3+(l&7),l>>>=3,u-=3}else{for(c=O+7;u<c;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}l>>>=O,u-=O,N=0,g=11+(l&127),l>>>=7,u-=7}if(t.have+g>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=Y;break}for(;g--;)t.lens[t.have++]=N}}if(t.mode===Y)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=Y;break}if(t.lenbits=9,d={bits:t.lenbits},y=Lt(Dr,t.lens,0,t.nlen,t.lencode,0,t.work,d),t.lenbits=d.bits,y){e.msg="invalid literal/lengths set",t.mode=Y;break}if(t.distbits=6,t.distcode=t.distdyn,d={bits:t.distbits},y=Lt(Zr,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,d),t.distbits=d.bits,y){e.msg="invalid distances set",t.mode=Y;break}if(t.mode=an,n===nn)break e;case an:t.mode=sn;case sn:if(o>=6&&f>=258){e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=u,po(e,h),s=e.next_out,r=e.output,f=e.avail_out,a=e.next_in,i=e.input,o=e.avail_in,l=t.hold,u=t.bits,t.mode===$e&&(t.back=-1);break}for(t.back=0;T=t.lencode[l&(1<<t.lenbits)-1],O=T>>>24,B=T>>>16&255,L=T&65535,!(O<=u);){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}if(B&&!(B&240)){for(C=O,z=B,j=L;T=t.lencode[j+((l&(1<<C+z)-1)>>C)],O=T>>>24,B=T>>>16&255,L=T&65535,!(C+O<=u);){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}l>>>=C,u-=C,t.back+=C}if(l>>>=O,u-=O,t.back+=O,t.length=L,B===0){t.mode=di;break}if(B&32){t.back=-1,t.mode=$e;break}if(B&64){e.msg="invalid literal/length code",t.mode=Y;break}t.extra=B&15,t.mode=fi;case fi:if(t.extra){for(c=t.extra;u<c;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=ui;case ui:for(;T=t.distcode[l&(1<<t.distbits)-1],O=T>>>24,B=T>>>16&255,L=T&65535,!(O<=u);){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}if(!(B&240)){for(C=O,z=B,j=L;T=t.distcode[j+((l&(1<<C+z)-1)>>C)],O=T>>>24,B=T>>>16&255,L=T&65535,!(C+O<=u);){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}l>>>=C,u-=C,t.back+=C}if(l>>>=O,u-=O,t.back+=O,B&64){e.msg="invalid distance code",t.mode=Y;break}t.offset=L,t.extra=B&15,t.mode=ci;case ci:if(t.extra){for(c=t.extra;u<c;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=Y;break}t.mode=hi;case hi:if(f===0)break e;if(g=h-f,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=Y;break}g>t.wnext?(g-=t.wnext,A=t.wsize-g):A=t.wnext-g,g>t.length&&(g=t.length),v=t.window}else v=r,A=s-t.offset,g=t.length;g>f&&(g=f),f-=g,t.length-=g;do r[s++]=v[A++];while(--g);t.length===0&&(t.mode=sn);break;case di:if(f===0)break e;r[s++]=t.length,f--,t.mode=sn;break;case $n:if(t.wrap){for(;u<32;){if(o===0)break e;o--,l|=i[a++]<<u,u+=8}if(h-=f,e.total_out+=h,t.total+=h,h&&(e.adler=t.check=t.flags?le(t.check,r,h,s-h):Rt(t.check,r,h,s-h)),h=f,(t.flags?l:bi(l))!==t.check){e.msg="incorrect data check",t.mode=Y;break}l=0,u=0}t.mode=_i;case _i:if(t.wrap&&t.flags){for(;u<32;){if(o===0)break e;o--,l+=i[a++]<<u,u+=8}if(l!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=Y;break}l=0,u=0}t.mode=pi;case pi:y=vo;break e;case Y:y=Kr;break e;case gi:return Xr;case xo:default:return we}return e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=o,t.hold=l,t.bits=u,(t.wsize||h!==e.avail_out&&t.mode<Y&&(t.mode<$n||n!==Gr))&&mi(e,e.output,e.next_out,h-e.avail_out),p-=e.avail_in,h-=e.avail_out,e.total_in+=p,e.total_out+=h,t.total+=h,t.wrap&&h&&(e.adler=t.check=t.flags?le(t.check,r,h,e.next_out-h):Rt(t.check,r,h,e.next_out-h)),e.data_type=t.bits+(t.last?64:0)+(t.mode===$e?128:0)+(t.mode===an||t.mode===On?256:0),(p===0&&h===0||n===Gr)&&y===rt&&(y=Ro),y},Lo=e=>{if(!e||!e.state)return we;let n=e.state;return n.window&&(n.window=null),e.state=null,rt},Io=(e,n)=>{if(!e||!e.state)return we;const t=e.state;return t.wrap&2?(t.head=n,n.done=!1,rt):we},Ho=(e,n)=>{const t=n.length;let i,r,a;return!e||!e.state||(i=e.state,i.wrap!==0&&i.mode!==rn)?we:i.mode===rn&&(r=1,r=Rt(r,n,t,0),r!==i.check)?Kr:(a=mi(e,n,t,t),a?(i.mode=gi,Xr):(i.havedict=1,rt))};var Fo=Ai,Mo=Ei,Uo=wi,zo=No,Po=yi,Bo=$o,Do=Lo,Zo=Io,Go=Ho,Ko="pako inflate (from Nodeca project)",Le={inflateReset:Fo,inflateReset2:Mo,inflateResetKeep:Uo,inflateInit:zo,inflateInit2:Po,inflate:Bo,inflateEnd:Do,inflateGetHeader:Zo,inflateSetDictionary:Go,inflateInfo:Ko};function Xo(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Wo=Xo;const Ri=Object.prototype.toString,{Z_NO_FLUSH:jo,Z_FINISH:qo,Z_OK:It,Z_STREAM_END:Hn,Z_NEED_DICT:Fn,Z_STREAM_ERROR:Qo,Z_DATA_ERROR:xi,Z_MEM_ERROR:Yo}=Ve;function Ht(e){this.options=Jt.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Fr,this.strm.avail_out=0;let t=Le.inflateInit2(this.strm,n.windowBits);if(t!==It)throw new Error(Ye[t]);if(this.header=new Wo,Le.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=Ot.string2buf(n.dictionary):Ri.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=Le.inflateSetDictionary(this.strm,n.dictionary),t!==It)))throw new Error(Ye[t])}Ht.prototype.push=function(e,n){const t=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(n===~~n?s=n:s=n===!0?qo:jo,Ri.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),a=Le.inflate(t,s),a===Fn&&r&&(a=Le.inflateSetDictionary(t,r),a===It?a=Le.inflate(t,s):a===xi&&(a=Fn));t.avail_in>0&&a===Hn&&t.state.wrap>0&&e[t.next_in]!==0;)Le.inflateReset(t),a=Le.inflate(t,s);switch(a){case Qo:case xi:case Fn:case Yo:return this.onEnd(a),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||a===Hn))if(this.options.to==="string"){let f=Ot.utf8border(t.output,t.next_out),l=t.next_out-f,u=Ot.buf2string(t.output,f);t.next_out=l,t.avail_out=i-l,l&&t.output.set(t.output.subarray(f,f+l),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===It&&o===0)){if(a===Hn)return a=Le.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0},Ht.prototype.onData=function(e){this.chunks.push(e)},Ht.prototype.onEnd=function(e){e===It&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Jt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Mn(e,n){const t=new Ht(n);if(t.push(e),t.err)throw t.msg||Ye[t.err];return t.result}function Vo(e,n){return n=n||{},n.raw=!0,Mn(e,n)}var Jo=Ht,el=Mn,tl=Vo,nl=Mn,rl=Ve,il={Inflate:Jo,inflate:el,inflateRaw:tl,ungzip:nl,constants:rl};const{Deflate:al,deflate:sl,deflateRaw:ol,gzip:ll}=ho,{Inflate:fl,inflate:ul,inflateRaw:cl,ungzip:hl}=il;var dl=al,_l=sl,pl=ol,gl=ll,bl=fl,wl=ul,Al=cl,El=hl,yl=Ve,Si={Deflate:dl,deflate:_l,deflateRaw:pl,gzip:gl,Inflate:bl,inflate:wl,inflateRaw:Al,ungzip:El,constants:yl},de=(e=>(e[e.NUMBER=0]="NUMBER",e[e.STRING=1]="STRING",e[e.BOOLEAN=2]="BOOLEAN",e[e.DATE=3]="DATE",e[e.LOOKUP=4]="LOOKUP",e[e.UNKNOWN=5]="UNKNOWN",e))(de||{});function vl(){return this._source.cancel()}function Ci(e){return/^[nf]$/i.test(e)?!1:/^[yt]$/i.test(e)?!0:null}function ki(e){return new Date(+e.substring(0,4),e.substring(4,6)-1,+e.substring(6,8))}function Ie(e){return!(e=e.trim())||isNaN(e=+e)?null:e}function Ti(e){return e.trim()||null}var ml={B:Ie,C:Ti,D:ki,F:Ie,L:Ci,M:Ie,N:Ie};function Rl(){var e=this,n=1;return e._source.slice(e._recordLength).then(function(t){return t&&t[0]!==26?{done:!1,value:e._fields.reduce(function(i,r){return i[r.name]=ml[r.type](e._decode(t.subarray(n,n+=r.length))),i},{})}:{done:!0,value:void 0}})}var Ni={B:Ie,C:Ti,D:ki,F:Ie,L:Ci,M:Ie,N:Ie};const xl={B:de.NUMBER,C:de.STRING,D:de.DATE,F:de.NUMBER,L:de.BOOLEAN,M:de.NUMBER,N:de.NUMBER};function Sl(e,n){const t=new Uint8Array(e),i=new DataView(e.slice(0,32)),r=i.getUint16(8,!0),a=new DataView(e.slice(32,r)),s=new Oi(t,n,i,a),o={},f=Math.round((t.byteLength-r-1)/s._recordLength),l=s._fields.length;console.log({numberOfColumns:l,expectedNumberOfRows:f});for(const h of s._fields){const g=xl[h.type],v={values:Ni[h.type]===Ie?new Float32Array(f):[],name:h.name,type:g};o[h.name]=v}let u=0;const p=t.byteLength;try{for(;;){const h=r+u*s._recordLength;if(h+s._recordLength>p)break;const g=t.slice(h,h+s._recordLength);if(g&&g[0]!==26){let A=1;s._fields.reduce(function(v,T){const O=Ni[T.type](s._decode(g.slice(A,A+T.length)));o[T.name].values[u]=O,A=A+T.length},{}),u%5e4||console.log("dbf",u)}else break;u++}}catch(h){console.warn(h)}return console.log("dbf total records",u),o}function Oi(e,n,t,i){this._source=e,this._decode=n.decode.bind(n),this._recordLength=t.getUint16(10,!0),this._fields=[];for(var r=0;i.getUint8(r)!==13;r+=32){for(var a=0;a<11&&i.getUint8(r+a)!==0;++a);this._fields.push({name:this._decode(new Uint8Array(i.buffer,i.byteOffset+r,a)),type:String.fromCharCode(i.getUint8(r+11)),length:i.getUint8(r+16)})}}var $i=Oi.prototype;$i.read=Rl,$i.cancel=vl;var Cl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Li(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kl(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),t}var Ii={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,n){(function(t,i){e.exports=i()})(Cl,function t(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},r=!i.document&&!!i.postMessage,a=r&&/blob:/i.test((i.location||{}).protocol),s={},o=0,f={},l=[];if(f.parse=function(_,d){var c=(d=d||{}).dynamicTyping||!1;if(y(c)&&(d.dynamicTypingFunction=c,c={}),d.dynamicTyping=c,d.transform=!!y(d.transform)&&d.transform,d.worker&&f.WORKERS_SUPPORTED){var R=function(){if(!f.WORKERS_SUPPORTED)return!1;var M=(w=i.URL||i.webkitURL||null,G=t.toString(),f.BLOB_URL||(f.BLOB_URL=w.createObjectURL(new Blob(["(",G,")();"],{type:"text/javascript"})))),b=new i.Worker(M),w,G;return b.onmessage=L,b.id=o++,s[b.id]=b}();return R.userStep=d.step,R.userChunk=d.chunk,R.userComplete=d.complete,R.userError=d.error,d.step=y(d.step),d.chunk=y(d.chunk),d.complete=y(d.complete),d.error=y(d.error),delete d.worker,void R.postMessage({input:_,config:d,workerId:R.id})}var S=null;return f.NODE_STREAM_INPUT,typeof _=="string"?S=d.download?new h(d):new A(d):_.readable===!0&&y(_.read)&&y(_.on)?S=new v(d):(i.File&&_ instanceof File||_ instanceof Object)&&(S=new g(d)),S.stream(_)},f.unparse=function(_,d){var c=!1,R=!0,S=",",M=`\r
`,b='"',w=b+b,G=!1,m=null,W=!1;(function(){if(typeof d=="object"){if(typeof d.delimiter!="string"||f.BAD_DELIMITERS.filter(function(I){return d.delimiter.indexOf(I)!==-1}).length||(S=d.delimiter),(typeof d.quotes=="boolean"||typeof d.quotes=="function"||Array.isArray(d.quotes))&&(c=d.quotes),typeof d.skipEmptyLines!="boolean"&&typeof d.skipEmptyLines!="string"||(G=d.skipEmptyLines),typeof d.newline=="string"&&(M=d.newline),typeof d.quoteChar=="string"&&(b=d.quoteChar),typeof d.header=="boolean"&&(R=d.header),Array.isArray(d.columns)){if(d.columns.length===0)throw new Error("Option columns is empty");m=d.columns}d.escapeChar!==void 0&&(w=d.escapeChar+b),(typeof d.escapeFormulae=="boolean"||d.escapeFormulae instanceof RegExp)&&(W=d.escapeFormulae instanceof RegExp?d.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var F=new RegExp(O(b),"g");if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return J(null,_,G);if(typeof _[0]=="object")return J(m||Object.keys(_[0]),_,G)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||m),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),J(_.fields||[],_.data||[],G);throw new Error("Unable to serialize unrecognized input");function J(I,q,ee){var H="";typeof I=="string"&&(I=JSON.parse(I)),typeof q=="string"&&(q=JSON.parse(q));var ne=Array.isArray(I)&&0<I.length,se=!Array.isArray(q[0]);if(ne&&R){for(var x=0;x<I.length;x++)0<x&&(H+=S),H+=ie(I[x],x);0<q.length&&(H+=M)}for(var k=0;k<q.length;k++){var E=ne?I.length:q[k].length,$=!1,Z=ne?Object.keys(q[k]).length===0:q[k].length===0;if(ee&&!ne&&($=ee==="greedy"?q[k].join("").trim()==="":q[k].length===1&&q[k][0].length===0),ee==="greedy"&&ne){for(var U=[],P=0;P<E;P++){var Q=se?I[P]:P;U.push(q[k][Q])}$=U.join("").trim()===""}if(!$){for(var D=0;D<E;D++){0<D&&!Z&&(H+=S);var Xe=ne&&se?I[D]:D;H+=ie(q[k][Xe],D)}k<q.length-1&&(!ee||0<E&&!Z)&&(H+=M)}}return H}function ie(I,q){if(I==null)return"";if(I.constructor===Date)return JSON.stringify(I).slice(1,25);var ee=!1;W&&typeof I=="string"&&W.test(I)&&(I="'"+I,ee=!0);var H=I.toString().replace(F,w);return(ee=ee||c===!0||typeof c=="function"&&c(I,q)||Array.isArray(c)&&c[q]||function(ne,se){for(var x=0;x<se.length;x++)if(-1<ne.indexOf(se[x]))return!0;return!1}(H,f.BAD_DELIMITERS)||-1<H.indexOf(S)||H.charAt(0)===" "||H.charAt(H.length-1)===" ")?b+H+b:H}},f.RECORD_SEP=String.fromCharCode(30),f.UNIT_SEP=String.fromCharCode(31),f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!r&&!!i.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=B,f.ParserHandle=T,f.NetworkStreamer=h,f.FileStreamer=g,f.StringStreamer=A,f.ReadableStreamStreamer=v,i.jQuery){var u=i.jQuery;u.fn.parse=function(_){var d=_.config||{},c=[];return this.each(function(M){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var b=0;b<this.files.length;b++)c.push({file:this.files[b],inputElem:this,instanceConfig:u.extend({},d)})}),R(),this;function R(){if(c.length!==0){var M,b,w,G,m=c[0];if(y(_.before)){var W=_.before(m.file,m.inputElem);if(typeof W=="object"){if(W.action==="abort")return M="AbortError",b=m.file,w=m.inputElem,G=W.reason,void(y(_.error)&&_.error({name:M},b,w,G));if(W.action==="skip")return void S();typeof W.config=="object"&&(m.instanceConfig=u.extend(m.instanceConfig,W.config))}else if(W==="skip")return void S()}var F=m.instanceConfig.complete;m.instanceConfig.complete=function(J){y(F)&&F(J,m.file,m.inputElem),S()},f.parse(m.file,m.instanceConfig)}else y(_.complete)&&_.complete()}function S(){c.splice(0,1),R()}}}function p(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],comments:[],meta:{}},(function(d){var c=j(d);c.chunkSize=parseInt(c.chunkSize),d.step||d.chunk||(c.chunkSize=null),this._handle=new T(c),(this._handle.streamer=this)._config=c}).call(this,_),this.parseChunk=function(d,c){if(this.isFirstChunk&&y(this._config.beforeFirstChunk)){var R=this._config.beforeFirstChunk(d);R!==void 0&&(d=R)}this.isFirstChunk=!1,this._halted=!1;var S=this._partialLine+d;this._partialLine="";var M=this._handle.parse(S,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var b=M.meta.cursor;this._finished||(this._partialLine=S.substring(b-this._baseIndex),this._baseIndex=b),M&&M.data&&(this._rowCount+=M.data.length);var w=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)i.postMessage({results:M,workerId:f.WORKER_ID,finished:w});else if(y(this._config.chunk)&&!c){if(this._config.chunk(M,this._handle),l=[],this._handle.paused()||this._handle.aborted())return void(this._halted=!0);M=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(M.data),this._completeResults.errors=this._completeResults.errors.concat(M.errors),this._completeResults.comments=this._completeResults.comments.concat(M.comments),this._completeResults.meta=M.meta),this._completed||!w||!y(this._config.complete)||M&&M.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),w||M&&M.meta.paused||this._nextChunk(),M}this._halted=!0},this._sendError=function(d){y(this._config.error)?this._config.error(d):a&&this._config.error&&i.postMessage({workerId:f.WORKER_ID,error:d,finished:!1})}}function h(_){var d;(_=_||{}).chunkSize||(_.chunkSize=f.RemoteChunkSize),p.call(this,_),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(c){this._input=c,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(d=new XMLHttpRequest,this._config.withCredentials&&(d.withCredentials=this._config.withCredentials),r||(d.onload=N(this._chunkLoaded,this),d.onerror=N(this._chunkError,this)),d.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var c=this._config.downloadRequestHeaders;for(var R in c)d.setRequestHeader(R,c[R])}if(this._config.chunkSize){var S=this._start+this._config.chunkSize-1;d.setRequestHeader("Range","bytes="+this._start+"-"+S)}try{d.send(this._config.downloadRequestBody)}catch(M){this._chunkError(M.message)}r&&d.status===0&&this._chunkError()}},this._chunkLoaded=function(){var c;d.readyState===4&&(d.status<200||400<=d.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:d.responseText.length,this._finished=!this._config.chunkSize||this._start>=((c=d.getResponseHeader("Content-Range"))!==null?parseInt(c.substring(c.lastIndexOf("/")+1)):-1),this.parseChunk(d.responseText)))},this._chunkError=function(c){var R=d.statusText||c;this._sendError(new Error(R))}}function g(_){var d,c;(_=_||{}).chunkSize||(_.chunkSize=f.LocalChunkSize),p.call(this,_);var R=typeof FileReader<"u";this.stream=function(S){this._input=S,c=S.slice||S.webkitSlice||S.mozSlice,R?((d=new FileReader).onload=N(this._chunkLoaded,this),d.onerror=N(this._chunkError,this)):d=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var S=this._input;if(this._config.chunkSize){var M=Math.min(this._start+this._config.chunkSize,this._input.size);S=c.call(S,this._start,M)}var b=d.readAsText(S,this._config.encoding);R||this._chunkLoaded({target:{result:b}})},this._chunkLoaded=function(S){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(S.target.result)},this._chunkError=function(){this._sendError(d.error)}}function A(_){var d;p.call(this,_=_||{}),this.stream=function(c){return d=c,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var c,R=this._config.chunkSize;return d=R?(c=d.substring(0,R),d.substring(R)):(c=d,""),this._finished=!d,this.parseChunk(c)}}}function v(_){p.call(this,_=_||{});var d=[],c=!0,R=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(S){this._input=S,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){R&&d.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),d.length?this.parseChunk(d.shift()):c=!0},this._streamData=N(function(S){try{d.push(typeof S=="string"?S:S.toString(this._config.encoding)),c&&(c=!1,this._checkIsFinished(),this.parseChunk(d.shift()))}catch(M){this._streamError(M)}},this),this._streamError=N(function(S){this._streamCleanUp(),this._sendError(S)},this),this._streamEnd=N(function(){this._streamCleanUp(),R=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function T(_){var d,c,R,S=Math.pow(2,53),M=-S,b=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,w=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,G=this,m=0,W=0,F=!1,J=!1,ie=[],I={data:[],errors:[],comments:[],meta:{}};if(y(_.step)){var q=_.step;_.step=function(k){if(I=k,ne())H();else{if(H(),I.data.length===0)return;m+=k.data.length,_.preview&&m>_.preview?c.abort():(I.data=I.data[0],q(I,G))}}}function ee(k){return _.skipEmptyLines==="greedy"?k.join("").trim()==="":k.length===1&&k[0].length===0}function H(){return I&&R&&(x("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),R=!1),_.skipEmptyLines&&(I.data=I.data.filter(function(k){return!ee(k)})),ne()&&function(){if(!I)return;function k($,Z){y(_.transformHeader)&&($=_.transformHeader($,Z)),ie.push($)}if(Array.isArray(I.data[0])){for(var E=0;ne()&&E<I.data.length;E++)I.data[E].forEach(k);I.data.splice(0,1)}else I.data.forEach(k)}(),function(){if(!I||!_.header&&!_.dynamicTyping&&!_.transform)return I;function k($,Z){var U,P=_.header?{}:[];for(U=0;U<$.length;U++){var Q=U,D=$[U];_.header&&(Q=U>=ie.length?"__parsed_extra":ie[U]),_.transform&&(D=_.transform(D,Q)),D=se(Q,D),Q==="__parsed_extra"?(P[Q]=P[Q]||[],P[Q].push(D)):P[Q]=D}return _.header&&(U>ie.length?x("FieldMismatch","TooManyFields","Too many fields: expected "+ie.length+" fields but parsed "+U,W+Z):U<ie.length&&x("FieldMismatch","TooFewFields","Too few fields: expected "+ie.length+" fields but parsed "+U,W+Z)),P}var E=1;return!I.data.length||Array.isArray(I.data[0])?(I.data=I.data.map(k),E=I.data.length):I.data=k(I.data,0),_.header&&I.meta&&(I.meta.fields=ie),W+=E,I}()}function ne(){return _.header&&ie.length===0}function se(k,E){return $=k,_.dynamicTypingFunction&&_.dynamicTyping[$]===void 0&&(_.dynamicTyping[$]=_.dynamicTypingFunction($)),(_.dynamicTyping[$]||_.dynamicTyping)===!0?E==="true"||E==="TRUE"||E!=="false"&&E!=="FALSE"&&(E.startsWith('"')?E.slice(1):function(Z){if(b.test(Z)){var U=parseFloat(Z);if(M<U&&U<S)return!0}return!1}(E)?parseFloat(E):w.test(E)?new Date(E):E===""?null:E):E;var $}function x(k,E,$,Z){var U={type:k,code:E,message:$};Z!==void 0&&(U.row=Z),I.errors.push(U)}this.parse=function(k,E,$){var Z=_.quoteChar||'"';if(_.newline||(_.newline=function(Q,D){Q=Q.substring(0,1048576);var Xe=new RegExp(O(D)+"([^]*?)"+O(D),"gm"),me=(Q=Q.replace(Xe,"")).split("\r"),Ee=Q.split(`
`),We=1<Ee.length&&Ee[0].length<me[0].length;if(me.length===1||We)return`
`;for(var Ne=0,ye=0;ye<me.length;ye++)me[ye][0]===`
`&&Ne++;return Ne>=me.length/2?`\r
`:"\r"}(k,Z)),R=!1,_.delimiter)y(_.delimiter)&&(_.delimiter=_.delimiter(k),I.meta.delimiter=_.delimiter);else{var U=function(Q,D,Xe,me,Ee){var We,Ne,ye,ue;Ee=Ee||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var je=0;je<Ee.length;je++){var ce=Ee[je],qe=0,Fe=0,Ca=0;ye=void 0;for(var Zt=new B({comments:me,delimiter:ce,newline:D,preview:10}).parse(Q),dn=0;dn<Zt.data.length;dn++)if(Xe&&ee(Zt.data[dn]))Ca++;else{var Gt=Zt.data[dn].length;Fe+=Gt,ye!==void 0?0<Gt&&(qe+=Math.abs(Gt-ye),ye=Gt):ye=Gt}0<Zt.data.length&&(Fe/=Zt.data.length-Ca),(Ne===void 0||qe<=Ne)&&(ue===void 0||ue<Fe)&&1.99<Fe&&(Ne=qe,We=ce,ue=Fe)}return{successful:!!(_.delimiter=We),bestDelimiter:We}}(k,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess);U.successful?_.delimiter=U.bestDelimiter:(R=!0,_.delimiter=f.DefaultDelimiter),I.meta.delimiter=_.delimiter}var P=j(_);return _.preview&&_.header&&P.preview++,d=k,c=new B(P),I=c.parse(d,E,$),H(),F?{meta:{paused:!0}}:I||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,c.abort(),d=y(_.chunk)?"":d.substring(c.getCharIndex())},this.resume=function(){G.streamer._halted?(F=!1,G.streamer.parseChunk(d,!0)):setTimeout(G.resume,3)},this.aborted=function(){return J},this.abort=function(){J=!0,c.abort(),I.meta.aborted=!0,y(_.complete)&&_.complete(I),d=""}}function O(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function B(_){var d,c=(_=_||{}).delimiter,R=_.newline,S=_.comments,M=_.step,b=_.preview,w=_.fastMode,G=d=_.quoteChar===void 0||_.quoteChar===null?'"':_.quoteChar;if(_.escapeChar!==void 0&&(G=_.escapeChar),(typeof c!="string"||-1<f.BAD_DELIMITERS.indexOf(c))&&(c=","),S===c)throw new Error("Comment character same as delimiter");S===!0?S="#":(typeof S!="string"||-1<f.BAD_DELIMITERS.indexOf(S))&&(S=!1),R!==`
`&&R!=="\r"&&R!==`\r
`&&(R=`
`);var m=0,W=!1;this.parse=function(F,J,ie){if(typeof F!="string")throw new Error("Input must be a string");var I=F.length,q=c.length,ee=R.length,H=S.length,ne=y(M),se=[],x=[],k=[],E=m=0;if(!F)return ue();if(w||w!==!1&&F.indexOf(d)===-1){for(var $=F.split(R),Z=0;Z<$.length;Z++){if(k=$[Z],m+=k.length,Z!==$.length-1)m+=R.length;else if(ie)return ue();if(S&&k.substring(0,H)===S)l.push(k);else{if(ne){if(se=[],Ee(k.split(c)),je(),W)return ue()}else Ee(k.split(c));if(b&&b<=Z)return se=se.slice(0,b),ue(!0)}}return ue()}for(var U=F.indexOf(c,m),P=F.indexOf(R,m),Q=new RegExp(O(G)+O(d),"g"),D=F.indexOf(d,m);;)if(F[m]!==d)if(S&&k.length===0&&F.substring(m,m+H)===S){if(P===-1)return ue();m=P+ee,P=F.indexOf(R,m),U=F.indexOf(c,m)}else if(U!==-1&&(U<P||P===-1))k.push(F.substring(m,U)),m=U+q,U=F.indexOf(c,m);else{if(P===-1)break;if(k.push(F.substring(m,P)),ye(P+ee),ne&&(je(),W))return ue();if(b&&se.length>=b)return ue(!0)}else for(D=m,m++;;){if((D=F.indexOf(d,D+1))===-1)return ie||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:se.length,index:m}),Ne();if(D===I-1)return Ne(F.substring(m,D).replace(Q,d));if(d!==G||F[D+1]!==G){if(d===G||D===0||F[D-1]!==G){U!==-1&&U<D+1&&(U=F.indexOf(c,D+1)),P!==-1&&P<D+1&&(P=F.indexOf(R,D+1));var Xe=We(P===-1?U:Math.min(U,P));if(F.substr(D+1+Xe,q)===c){k.push(F.substring(m-1,D).replace(Q,d)),F[m=D+1+Xe+q]!==d&&(D=F.indexOf(d,m)),U=F.indexOf(c,m),P=F.indexOf(R,m);break}var me=We(P);if(F.substring(D+1+me,D+1+me+ee)===R){if(k.push(F.substring(m-1,D).replace(Q,d)),ye(D+1+me+ee),U=F.indexOf(c,m),D=F.indexOf(d,m),ne&&(je(),W))return ue();if(b&&se.length>=b)return ue(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:se.length,index:m}),D++}}else D++}return Ne();function Ee(ce){se.push(ce),E=m}function We(ce){var qe=0;if(ce!==-1){var Fe=F.substring(D+1,ce);Fe&&Fe.trim()===""&&(qe=Fe.length)}return qe}function Ne(ce){return ie||(ce===void 0&&(ce=F.substring(m)),k.push(ce),m=I,Ee(k),ne&&je()),ue()}function ye(ce){m=ce,Ee(k),k=[],P=F.indexOf(R,m)}function ue(ce){var qe=JSON.parse(JSON.stringify(l));return{data:se,errors:x,comments:qe,meta:{delimiter:c,linebreak:R,aborted:W,truncated:!!ce,cursor:E+(J||0)}}}function je(){M(ue()),se=[],x=[]}},this.abort=function(){W=!0},this.getCharIndex=function(){return m}}function L(_){var d=_.data,c=s[d.workerId],R=!1;if(d.error)c.userError(d.error,d.file);else if(d.results&&d.results.data){var S={abort:function(){R=!0,C(d.workerId,{data:[],comments:[],errors:[],meta:{aborted:!0}})},pause:z,resume:z};if(y(c.userStep)){for(var M=0;M<d.results.data.length&&(c.userStep({data:d.results.data[M],errors:d.results.errors,comments:d.results.comments,meta:d.results.meta},S),!R);M++);delete d.results}else y(c.userChunk)&&(c.userChunk(d.results,S,d.file),delete d.results)}d.finished&&!R&&C(d.workerId,d.results)}function C(_,d){var c=s[_];y(c.userComplete)&&c.userComplete(d),c.terminate(),delete s[_]}function z(){throw new Error("Not implemented.")}function j(_){if(typeof _!="object"||_===null)return _;var d=Array.isArray(_)?[]:{};for(var c in _)d[c]=j(_[c]);return d}function N(_,d){return function(){_.apply(d,arguments)}}function y(_){return typeof _=="function"}return a&&(i.onmessage=function(_){var d=_.data;if(f.WORKER_ID===void 0&&d&&(f.WORKER_ID=d.workerId),typeof d.input=="string")i.postMessage({workerId:f.WORKER_ID,results:f.parse(d.input,d.config),finished:!0});else if(i.File&&d.input instanceof File||d.input instanceof Object){var c=f.parse(d.input,d.config);c&&i.postMessage({workerId:f.WORKER_ID,results:c,finished:!0})}}),(h.prototype=Object.create(p.prototype)).constructor=h,(g.prototype=Object.create(p.prototype)).constructor=g,(A.prototype=Object.create(A.prototype)).constructor=A,(v.prototype=Object.create(p.prototype)).constructor=v,f})})(Ii);var Tl=Ii.exports,Nl=Li(Tl),Ol={},$l=Object.freeze({__proto__:null,default:Ol}),Hi=kl($l),on={};(function(e){e.isInteger=n=>typeof n=="number"?Number.isInteger(n):typeof n=="string"&&n.trim()!==""?Number.isInteger(Number(n)):!1,e.find=(n,t)=>n.nodes.find(i=>i.type===t),e.exceedsLimit=(n,t,i=1,r)=>r===!1||!e.isInteger(n)||!e.isInteger(t)?!1:(Number(t)-Number(n))/Number(i)>=r,e.escapeNode=(n,t=0,i)=>{let r=n.nodes[t];r&&(i&&r.type===i||r.type==="open"||r.type==="close")&&r.escaped!==!0&&(r.value="\\"+r.value,r.escaped=!0)},e.encloseBrace=n=>n.type!=="brace"||n.commas>>0+n.ranges>>0?!1:(n.invalid=!0,!0),e.isInvalidBrace=n=>n.type!=="brace"?!1:n.invalid===!0||n.dollar?!0:!(n.commas>>0+n.ranges>>0)||n.open!==!0||n.close!==!0?(n.invalid=!0,!0):!1,e.isOpenOrClose=n=>n.type==="open"||n.type==="close"?!0:n.open===!0||n.close===!0,e.reduce=n=>n.reduce((t,i)=>(i.type==="text"&&t.push(i.value),i.type==="range"&&(i.type="text"),t),[]),e.flatten=(...n)=>{const t=[],i=r=>{for(let a=0;a<r.length;a++){let s=r[a];Array.isArray(s)?i(s):s!==void 0&&t.push(s)}return t};return i(n),t}})(on);const Fi=on;var Un=(e,n={})=>{let t=(i,r={})=>{let a=n.escapeInvalid&&Fi.isInvalidBrace(r),s=i.invalid===!0&&n.escapeInvalid===!0,o="";if(i.value)return(a||s)&&Fi.isOpenOrClose(i)?"\\"+i.value:i.value;if(i.value)return i.value;if(i.nodes)for(let f of i.nodes)o+=t(f);return o};return t(e)};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var Ll=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const Mi=Ll,it=(e,n,t)=>{if(Mi(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(n===void 0||e===n)return String(e);if(Mi(n)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let i={relaxZeros:!0,...t};typeof i.strictZeros=="boolean"&&(i.relaxZeros=i.strictZeros===!1);let r=String(i.relaxZeros),a=String(i.shorthand),s=String(i.capture),o=String(i.wrap),f=e+":"+n+"="+r+a+s+o;if(it.cache.hasOwnProperty(f))return it.cache[f].result;let l=Math.min(e,n),u=Math.max(e,n);if(Math.abs(l-u)===1){let v=e+"|"+n;return i.capture?`(${v})`:i.wrap===!1?v:`(?:${v})`}let p=Zi(e)||Zi(n),h={min:e,max:n,a:l,b:u},g=[],A=[];if(p&&(h.isPadded=p,h.maxLen=String(h.max).length),l<0){let v=u<0?Math.abs(u):1;A=Ui(v,Math.abs(l),h,i),l=h.a=0}return u>=0&&(g=Ui(l,u,h,i)),h.negatives=A,h.positives=g,h.result=Il(A,g),i.capture===!0?h.result=`(${h.result})`:i.wrap!==!1&&g.length+A.length>1&&(h.result=`(?:${h.result})`),it.cache[f]=h,h.result};function Il(e,n,t){let i=zn(e,n,"-",!1)||[],r=zn(n,e,"",!1)||[],a=zn(e,n,"-?",!0)||[];return i.concat(a).concat(r).join("|")}function Hl(e,n){let t=1,i=1,r=Pi(e,t),a=new Set([n]);for(;e<=r&&r<=n;)a.add(r),t+=1,r=Pi(e,t);for(r=Bi(n+1,i)-1;e<r&&r<=n;)a.add(r),i+=1,r=Bi(n+1,i)-1;return a=[...a],a.sort(Ul),a}function Fl(e,n,t){if(e===n)return{pattern:e,count:[],digits:0};let i=Ml(e,n),r=i.length,a="",s=0;for(let o=0;o<r;o++){let[f,l]=i[o];f===l?a+=f:f!=="0"||l!=="9"?a+=zl(f,l):s++}return s&&(a+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:a,count:[s],digits:r}}function Ui(e,n,t,i){let r=Hl(e,n),a=[],s=e,o;for(let f=0;f<r.length;f++){let l=r[f],u=Fl(String(s),String(l),i),p="";if(!t.isPadded&&o&&o.pattern===u.pattern){o.count.length>1&&o.count.pop(),o.count.push(u.count[0]),o.string=o.pattern+Di(o.count),s=l+1;continue}t.isPadded&&(p=Pl(l,t,i)),u.string=p+u.pattern+Di(u.count),a.push(u),s=l+1,o=u}return a}function zn(e,n,t,i,r){let a=[];for(let s of e){let{string:o}=s;!i&&!zi(n,"string",o)&&a.push(t+o),i&&zi(n,"string",o)&&a.push(t+o)}return a}function Ml(e,n){let t=[];for(let i=0;i<e.length;i++)t.push([e[i],n[i]]);return t}function Ul(e,n){return e>n?1:n>e?-1:0}function zi(e,n,t){return e.some(i=>i[n]===t)}function Pi(e,n){return Number(String(e).slice(0,-n)+"9".repeat(n))}function Bi(e,n){return e-e%Math.pow(10,n)}function Di(e){let[n=0,t=""]=e;return t||n>1?`{${n+(t?","+t:"")}}`:""}function zl(e,n,t){return`[${e}${n-e===1?"":"-"}${n}]`}function Zi(e){return/^-?(0+)\d/.test(e)}function Pl(e,n,t){if(!n.isPadded)return e;let i=Math.abs(n.maxLen-String(e).length),r=t.relaxZeros!==!1;switch(i){case 0:return"";case 1:return r?"0?":"0";case 2:return r?"0{0,2}":"00";default:return r?`0{0,${i}}`:`0{${i}}`}}it.cache={},it.clearCache=()=>it.cache={};var Bl=it;/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const Dl=Hi,Gi=Bl,Ki=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),Zl=e=>n=>e===!0?Number(n):String(n),Pn=e=>typeof e=="number"||typeof e=="string"&&e!=="",Ft=e=>Number.isInteger(+e),Bn=e=>{let n=`${e}`,t=-1;if(n[0]==="-"&&(n=n.slice(1)),n==="0")return!1;for(;n[++t]==="0";);return t>0},Gl=(e,n,t)=>typeof e=="string"||typeof n=="string"?!0:t.stringify===!0,Kl=(e,n,t)=>{if(n>0){let i=e[0]==="-"?"-":"";i&&(e=e.slice(1)),e=i+e.padStart(i?n-1:n,"0")}return t===!1?String(e):e},Xi=(e,n)=>{let t=e[0]==="-"?"-":"";for(t&&(e=e.slice(1),n--);e.length<n;)e="0"+e;return t?"-"+e:e},Xl=(e,n)=>{e.negatives.sort((s,o)=>s<o?-1:s>o?1:0),e.positives.sort((s,o)=>s<o?-1:s>o?1:0);let t=n.capture?"":"?:",i="",r="",a;return e.positives.length&&(i=e.positives.join("|")),e.negatives.length&&(r=`-(${t}${e.negatives.join("|")})`),i&&r?a=`${i}|${r}`:a=i||r,n.wrap?`(${t}${a})`:a},Wi=(e,n,t,i)=>{if(t)return Gi(e,n,{wrap:!1,...i});let r=String.fromCharCode(e);if(e===n)return r;let a=String.fromCharCode(n);return`[${r}-${a}]`},ji=(e,n,t)=>{if(Array.isArray(e)){let i=t.wrap===!0,r=t.capture?"":"?:";return i?`(${r}${e.join("|")})`:e.join("|")}return Gi(e,n,t)},qi=(...e)=>new RangeError("Invalid range arguments: "+Dl.inspect(...e)),Qi=(e,n,t)=>{if(t.strictRanges===!0)throw qi([e,n]);return[]},Wl=(e,n)=>{if(n.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},jl=(e,n,t=1,i={})=>{let r=Number(e),a=Number(n);if(!Number.isInteger(r)||!Number.isInteger(a)){if(i.strictRanges===!0)throw qi([e,n]);return[]}r===0&&(r=0),a===0&&(a=0);let s=r>a,o=String(e),f=String(n),l=String(t);t=Math.max(Math.abs(t),1);let u=Bn(o)||Bn(f)||Bn(l),p=u?Math.max(o.length,f.length,l.length):0,h=u===!1&&Gl(e,n,i)===!1,g=i.transform||Zl(h);if(i.toRegex&&t===1)return Wi(Xi(e,p),Xi(n,p),!0,i);let A={negatives:[],positives:[]},v=B=>A[B<0?"negatives":"positives"].push(Math.abs(B)),T=[],O=0;for(;s?r>=a:r<=a;)i.toRegex===!0&&t>1?v(r):T.push(Kl(g(r,O),p,h)),r=s?r-t:r+t,O++;return i.toRegex===!0?t>1?Xl(A,i):ji(T,null,{wrap:!1,...i}):T},ql=(e,n,t=1,i={})=>{if(!Ft(e)&&e.length>1||!Ft(n)&&n.length>1)return Qi(e,n,i);let r=i.transform||(h=>String.fromCharCode(h)),a=`${e}`.charCodeAt(0),s=`${n}`.charCodeAt(0),o=a>s,f=Math.min(a,s),l=Math.max(a,s);if(i.toRegex&&t===1)return Wi(f,l,!1,i);let u=[],p=0;for(;o?a>=s:a<=s;)u.push(r(a,p)),a=o?a-t:a+t,p++;return i.toRegex===!0?ji(u,null,{wrap:!1,options:i}):u},ln=(e,n,t,i={})=>{if(n==null&&Pn(e))return[e];if(!Pn(e)||!Pn(n))return Qi(e,n,i);if(typeof t=="function")return ln(e,n,1,{transform:t});if(Ki(t))return ln(e,n,0,t);let r={...i};return r.capture===!0&&(r.wrap=!0),t=t||r.step||1,Ft(t)?Ft(e)&&Ft(n)?jl(e,n,t,r):ql(e,n,Math.max(Math.abs(t),1),r):t!=null&&!Ki(t)?Wl(t,r):ln(e,n,1,t)};var Yi=ln;const Ql=Yi,Vi=on;var Yl=(e,n={})=>{let t=(i,r={})=>{let a=Vi.isInvalidBrace(r),s=i.invalid===!0&&n.escapeInvalid===!0,o=a===!0||s===!0,f=n.escapeInvalid===!0?"\\":"",l="";if(i.isOpen===!0||i.isClose===!0)return f+i.value;if(i.type==="open")return o?f+i.value:"(";if(i.type==="close")return o?f+i.value:")";if(i.type==="comma")return i.prev.type==="comma"?"":o?i.value:"|";if(i.value)return i.value;if(i.nodes&&i.ranges>0){let u=Vi.reduce(i.nodes),p=Ql(...u,{...n,wrap:!1,toRegex:!0});if(p.length!==0)return u.length>1&&p.length>1?`(${p})`:p}if(i.nodes)for(let u of i.nodes)l+=t(u,i);return l};return t(e)};const Vl=Yi,Ji=Un,_t=on,at=(e="",n="",t=!1)=>{let i=[];if(e=[].concat(e),n=[].concat(n),!n.length)return e;if(!e.length)return t?_t.flatten(n).map(r=>`{${r}}`):n;for(let r of e)if(Array.isArray(r))for(let a of r)i.push(at(a,n,t));else for(let a of n)t===!0&&typeof a=="string"&&(a=`{${a}}`),i.push(Array.isArray(a)?at(r,a,t):r+a);return _t.flatten(i)};var Jl=(e,n={})=>{let t=n.rangeLimit===void 0?1e3:n.rangeLimit,i=(r,a={})=>{r.queue=[];let s=a,o=a.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,o=s.queue;if(r.invalid||r.dollar){o.push(at(o.pop(),Ji(r,n)));return}if(r.type==="brace"&&r.invalid!==!0&&r.nodes.length===2){o.push(at(o.pop(),["{}"]));return}if(r.nodes&&r.ranges>0){let p=_t.reduce(r.nodes);if(_t.exceedsLimit(...p,n.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let h=Vl(...p,n);h.length===0&&(h=Ji(r,n)),o.push(at(o.pop(),h)),r.nodes=[];return}let f=_t.encloseBrace(r),l=r.queue,u=r;for(;u.type!=="brace"&&u.type!=="root"&&u.parent;)u=u.parent,l=u.queue;for(let p=0;p<r.nodes.length;p++){let h=r.nodes[p];if(h.type==="comma"&&r.type==="brace"){p===1&&l.push(""),l.push("");continue}if(h.type==="close"){o.push(at(o.pop(),l,f));continue}if(h.value&&h.type!=="open"){l.push(at(l.pop(),h.value));continue}h.nodes&&i(h,r)}return l};return _t.flatten(i(e))},ef={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const tf=Un,{MAX_LENGTH:ea,CHAR_BACKSLASH:Dn,CHAR_BACKTICK:nf,CHAR_COMMA:rf,CHAR_DOT:af,CHAR_LEFT_PARENTHESES:sf,CHAR_RIGHT_PARENTHESES:of,CHAR_LEFT_CURLY_BRACE:lf,CHAR_RIGHT_CURLY_BRACE:ff,CHAR_LEFT_SQUARE_BRACKET:ta,CHAR_RIGHT_SQUARE_BRACKET:na,CHAR_DOUBLE_QUOTE:uf,CHAR_SINGLE_QUOTE:cf,CHAR_NO_BREAK_SPACE:hf,CHAR_ZERO_WIDTH_NOBREAK_SPACE:df}=ef;var _f=(e,n={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let t=n||{},i=typeof t.maxLength=="number"?Math.min(ea,t.maxLength):ea;if(e.length>i)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${i})`);let r={type:"root",input:e,nodes:[]},a=[r],s=r,o=r,f=0,l=e.length,u=0,p=0,h;const g=()=>e[u++],A=v=>{if(v.type==="text"&&o.type==="dot"&&(o.type="text"),o&&o.type==="text"&&v.type==="text"){o.value+=v.value;return}return s.nodes.push(v),v.parent=s,v.prev=o,o=v,v};for(A({type:"bos"});u<l;)if(s=a[a.length-1],h=g(),!(h===df||h===hf)){if(h===Dn){A({type:"text",value:(n.keepEscaping?h:"")+g()});continue}if(h===na){A({type:"text",value:"\\"+h});continue}if(h===ta){f++;let v;for(;u<l&&(v=g());){if(h+=v,v===ta){f++;continue}if(v===Dn){h+=g();continue}if(v===na&&(f--,f===0))break}A({type:"text",value:h});continue}if(h===sf){s=A({type:"paren",nodes:[]}),a.push(s),A({type:"text",value:h});continue}if(h===of){if(s.type!=="paren"){A({type:"text",value:h});continue}s=a.pop(),A({type:"text",value:h}),s=a[a.length-1];continue}if(h===uf||h===cf||h===nf){let v=h,T;for(n.keepQuotes!==!0&&(h="");u<l&&(T=g());){if(T===Dn){h+=T+g();continue}if(T===v){n.keepQuotes===!0&&(h+=T);break}h+=T}A({type:"text",value:h});continue}if(h===lf){p++;let T={type:"brace",open:!0,close:!1,dollar:o.value&&o.value.slice(-1)==="$"||s.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};s=A(T),a.push(s),A({type:"open",value:h});continue}if(h===ff){if(s.type!=="brace"){A({type:"text",value:h});continue}let v="close";s=a.pop(),s.close=!0,A({type:v,value:h}),p--,s=a[a.length-1];continue}if(h===rf&&p>0){if(s.ranges>0){s.ranges=0;let v=s.nodes.shift();s.nodes=[v,{type:"text",value:tf(s)}]}A({type:"comma",value:h}),s.commas++;continue}if(h===af&&p>0&&s.commas===0){let v=s.nodes;if(p===0||v.length===0){A({type:"text",value:h});continue}if(o.type==="dot"){if(s.range=[],o.value+=h,o.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,o.type="text";continue}s.ranges++,s.args=[];continue}if(o.type==="range"){v.pop();let T=v[v.length-1];T.value+=o.value+h,o=T,s.ranges--;continue}A({type:"dot",value:h});continue}A({type:"text",value:h})}do if(s=a.pop(),s.type!=="root"){s.nodes.forEach(O=>{O.nodes||(O.type==="open"&&(O.isOpen=!0),O.type==="close"&&(O.isClose=!0),O.nodes||(O.type="text"),O.invalid=!0)});let v=a[a.length-1],T=v.nodes.indexOf(s);v.nodes.splice(T,1,...s.nodes)}while(a.length>0);return A({type:"eos"}),r};const ra=Un,pf=Yl,gf=Jl,bf=_f,pe=(e,n={})=>{let t=[];if(Array.isArray(e))for(let i of e){let r=pe.create(i,n);Array.isArray(r)?t.push(...r):t.push(r)}else t=[].concat(pe.create(e,n));return n&&n.expand===!0&&n.nodupes===!0&&(t=[...new Set(t)]),t};pe.parse=(e,n={})=>bf(e,n),pe.stringify=(e,n={})=>ra(typeof e=="string"?pe.parse(e,n):e,n),pe.compile=(e,n={})=>(typeof e=="string"&&(e=pe.parse(e,n)),pf(e,n)),pe.expand=(e,n={})=>{typeof e=="string"&&(e=pe.parse(e,n));let t=gf(e,n);return n.noempty===!0&&(t=t.filter(Boolean)),n.nodupes===!0&&(t=[...new Set(t)]),t},pe.create=(e,n={})=>e===""||e.length<3?[e]:n.expand!==!0?pe.compile(e,n):pe.expand(e,n);var wf=pe;function Ce(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function ia(e,n){for(var t="",i=0,r=-1,a=0,s,o=0;o<=e.length;++o){if(o<e.length)s=e.charCodeAt(o);else{if(s===47)break;s=47}if(s===47){if(!(r===o-1||a===1))if(r!==o-1&&a===2){if(t.length<2||i!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var f=t.lastIndexOf("/");if(f!==t.length-1){f===-1?(t="",i=0):(t=t.slice(0,f),i=t.length-1-t.lastIndexOf("/")),r=o,a=0;continue}}else if(t.length===2||t.length===1){t="",i=0,r=o,a=0;continue}}n&&(t.length>0?t+="/..":t="..",i=2)}else t.length>0?t+="/"+e.slice(r+1,o):t=e.slice(r+1,o),i=o-r-1;r=o,a=0}else s===46&&a!==-1?++a:a=-1}return t}function Af(e,n){var t=n.dir||n.root,i=n.base||(n.name||"")+(n.ext||"");return t?t===n.root?t+i:t+e+i:i}var pt={resolve:function(){for(var n="",t=!1,i,r=arguments.length-1;r>=-1&&!t;r--){var a;r>=0?a=arguments[r]:(i===void 0&&(i=process.cwd()),a=i),Ce(a),a.length!==0&&(n=a+"/"+n,t=a.charCodeAt(0)===47)}return n=ia(n,!t),t?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(Ce(n),n.length===0)return".";var t=n.charCodeAt(0)===47,i=n.charCodeAt(n.length-1)===47;return n=ia(n,!t),n.length===0&&!t&&(n="."),n.length>0&&i&&(n+="/"),t?"/"+n:n},isAbsolute:function(n){return Ce(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,t=0;t<arguments.length;++t){var i=arguments[t];Ce(i),i.length>0&&(n===void 0?n=i:n+="/"+i)}return n===void 0?".":pt.normalize(n)},relative:function(n,t){if(Ce(n),Ce(t),n===t||(n=pt.resolve(n),t=pt.resolve(t),n===t))return"";for(var i=1;i<n.length&&n.charCodeAt(i)===47;++i);for(var r=n.length,a=r-i,s=1;s<t.length&&t.charCodeAt(s)===47;++s);for(var o=t.length,f=o-s,l=a<f?a:f,u=-1,p=0;p<=l;++p){if(p===l){if(f>l){if(t.charCodeAt(s+p)===47)return t.slice(s+p+1);if(p===0)return t.slice(s+p)}else a>l&&(n.charCodeAt(i+p)===47?u=p:p===0&&(u=0));break}var h=n.charCodeAt(i+p),g=t.charCodeAt(s+p);if(h!==g)break;h===47&&(u=p)}var A="";for(p=i+u+1;p<=r;++p)(p===r||n.charCodeAt(p)===47)&&(A.length===0?A+="..":A+="/..");return A.length>0?A+t.slice(s+u):(s+=u,t.charCodeAt(s)===47&&++s,t.slice(s))},_makeLong:function(n){return n},dirname:function(n){if(Ce(n),n.length===0)return".";for(var t=n.charCodeAt(0),i=t===47,r=-1,a=!0,s=n.length-1;s>=1;--s)if(t=n.charCodeAt(s),t===47){if(!a){r=s;break}}else a=!1;return r===-1?i?"/":".":i&&r===1?"//":n.slice(0,r)},basename:function(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ce(n);var i=0,r=-1,a=!0,s;if(t!==void 0&&t.length>0&&t.length<=n.length){if(t.length===n.length&&t===n)return"";var o=t.length-1,f=-1;for(s=n.length-1;s>=0;--s){var l=n.charCodeAt(s);if(l===47){if(!a){i=s+1;break}}else f===-1&&(a=!1,f=s+1),o>=0&&(l===t.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=f))}return i===r?r=f:r===-1&&(r=n.length),n.slice(i,r)}else{for(s=n.length-1;s>=0;--s)if(n.charCodeAt(s)===47){if(!a){i=s+1;break}}else r===-1&&(a=!1,r=s+1);return r===-1?"":n.slice(i,r)}},extname:function(n){Ce(n);for(var t=-1,i=0,r=-1,a=!0,s=0,o=n.length-1;o>=0;--o){var f=n.charCodeAt(o);if(f===47){if(!a){i=o+1;break}continue}r===-1&&(a=!1,r=o+1),f===46?t===-1?t=o:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||r===-1||s===0||s===1&&t===r-1&&t===i+1?"":n.slice(t,r)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return Af("/",n)},parse:function(n){Ce(n);var t={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return t;var i=n.charCodeAt(0),r=i===47,a;r?(t.root="/",a=1):a=0;for(var s=-1,o=0,f=-1,l=!0,u=n.length-1,p=0;u>=a;--u){if(i=n.charCodeAt(u),i===47){if(!l){o=u+1;break}continue}f===-1&&(l=!1,f=u+1),i===46?s===-1?s=u:p!==1&&(p=1):s!==-1&&(p=-1)}return s===-1||f===-1||p===0||p===1&&s===f-1&&s===o+1?f!==-1&&(o===0&&r?t.base=t.name=n.slice(1,f):t.base=t.name=n.slice(o,f)):(o===0&&r?(t.name=n.slice(1,s),t.base=n.slice(1,f)):(t.name=n.slice(o,s),t.base=n.slice(o,f)),t.ext=n.slice(s,f)),o>0?t.dir=n.slice(0,o-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};pt.posix=pt;var Zn=pt,Mt={};const Ef=Zn,ke="\\\\/",aa=`[^${ke}]`,He="\\.",yf="\\+",vf="\\?",fn="\\/",mf="(?=.)",sa="[^/]",Gn=`(?:${fn}|$)`,oa=`(?:^|${fn})`,Kn=`${He}{1,2}${Gn}`,Rf=`(?!${He})`,xf=`(?!${oa}${Kn})`,Sf=`(?!${He}{0,1}${Gn})`,Cf=`(?!${Kn})`,kf=`[^.${fn}]`,Tf=`${sa}*?`,la={DOT_LITERAL:He,PLUS_LITERAL:yf,QMARK_LITERAL:vf,SLASH_LITERAL:fn,ONE_CHAR:mf,QMARK:sa,END_ANCHOR:Gn,DOTS_SLASH:Kn,NO_DOT:Rf,NO_DOTS:xf,NO_DOT_SLASH:Sf,NO_DOTS_SLASH:Cf,QMARK_NO_DOT:kf,STAR:Tf,START_ANCHOR:oa},Nf={...la,SLASH_LITERAL:`[${ke}]`,QMARK:aa,STAR:`${aa}*?`,DOTS_SLASH:`${He}{1,2}(?:[${ke}]|$)`,NO_DOT:`(?!${He})`,NO_DOTS:`(?!(?:^|[${ke}])${He}{1,2}(?:[${ke}]|$))`,NO_DOT_SLASH:`(?!${He}{0,1}(?:[${ke}]|$))`,NO_DOTS_SLASH:`(?!${He}{1,2}(?:[${ke}]|$))`,QMARK_NO_DOT:`[^.${ke}]`,START_ANCHOR:`(?:^|[${ke}])`,END_ANCHOR:`(?:[${ke}]|$)`},Of={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var un={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Of,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Ef.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Nf:la}};(function(e){const n=Zn,{REGEX_BACKSLASH:t,REGEX_REMOVE_BACKSLASH:i,REGEX_SPECIAL_CHARS:r,REGEX_SPECIAL_CHARS_GLOBAL:a}=un;e.isObject=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),e.hasRegexChars=s=>r.test(s),e.isRegexChar=s=>s.length===1&&e.hasRegexChars(s),e.escapeRegex=s=>s.replace(a,"\\$1"),e.toPosixSlashes=s=>s.replace(t,"/"),e.removeBackslashes=s=>s.replace(i,o=>o==="\\"?"":o),e.supportsLookbehinds=()=>{const s=process.version.slice(1).split(".").map(Number);return s.length===3&&s[0]>=9||s[0]===8&&s[1]>=10},e.isWindows=s=>s&&typeof s.windows=="boolean"?s.windows:n.sep==="\\",e.escapeLast=(s,o,f)=>{const l=s.lastIndexOf(o,f);return l===-1?s:s[l-1]==="\\"?e.escapeLast(s,o,l-1):`${s.slice(0,l)}\\${s.slice(l)}`},e.removePrefix=(s,o={})=>{let f=s;return f.startsWith("./")&&(f=f.slice(2),o.prefix="./"),f},e.wrapOutput=(s,o={},f={})=>{const l=f.contains?"":"^",u=f.contains?"":"$";let p=`${l}(?:${s})${u}`;return o.negated===!0&&(p=`(?:^(?!${p}).*$)`),p}})(Mt);const fa=Mt,{CHAR_ASTERISK:Xn,CHAR_AT:$f,CHAR_BACKWARD_SLASH:Ut,CHAR_COMMA:Lf,CHAR_DOT:Wn,CHAR_EXCLAMATION_MARK:jn,CHAR_FORWARD_SLASH:ua,CHAR_LEFT_CURLY_BRACE:qn,CHAR_LEFT_PARENTHESES:Qn,CHAR_LEFT_SQUARE_BRACKET:If,CHAR_PLUS:Hf,CHAR_QUESTION_MARK:ca,CHAR_RIGHT_CURLY_BRACE:Ff,CHAR_RIGHT_PARENTHESES:ha,CHAR_RIGHT_SQUARE_BRACKET:Mf}=un,da=e=>e===ua||e===Ut,_a=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)};var Uf=(e,n)=>{const t=n||{},i=e.length-1,r=t.parts===!0||t.scanToEnd===!0,a=[],s=[],o=[];let f=e,l=-1,u=0,p=0,h=!1,g=!1,A=!1,v=!1,T=!1,O=!1,B=!1,L=!1,C=!1,z=!1,j=0,N,y,_={value:"",depth:0,isGlob:!1};const d=()=>l>=i,c=()=>f.charCodeAt(l+1),R=()=>(N=y,f.charCodeAt(++l));for(;l<i;){y=R();let G;if(y===Ut){B=_.backslashes=!0,y=R(),y===qn&&(O=!0);continue}if(O===!0||y===qn){for(j++;d()!==!0&&(y=R());){if(y===Ut){B=_.backslashes=!0,R();continue}if(y===qn){j++;continue}if(O!==!0&&y===Wn&&(y=R())===Wn){if(h=_.isBrace=!0,A=_.isGlob=!0,z=!0,r===!0)continue;break}if(O!==!0&&y===Lf){if(h=_.isBrace=!0,A=_.isGlob=!0,z=!0,r===!0)continue;break}if(y===Ff&&(j--,j===0)){O=!1,h=_.isBrace=!0,z=!0;break}}if(r===!0)continue;break}if(y===ua){if(a.push(l),s.push(_),_={value:"",depth:0,isGlob:!1},z===!0)continue;if(N===Wn&&l===u+1){u+=2;continue}p=l+1;continue}if(t.noext!==!0&&(y===Hf||y===$f||y===Xn||y===ca||y===jn)===!0&&c()===Qn){if(A=_.isGlob=!0,v=_.isExtglob=!0,z=!0,y===jn&&l===u&&(C=!0),r===!0){for(;d()!==!0&&(y=R());){if(y===Ut){B=_.backslashes=!0,y=R();continue}if(y===ha){A=_.isGlob=!0,z=!0;break}}continue}break}if(y===Xn){if(N===Xn&&(T=_.isGlobstar=!0),A=_.isGlob=!0,z=!0,r===!0)continue;break}if(y===ca){if(A=_.isGlob=!0,z=!0,r===!0)continue;break}if(y===If){for(;d()!==!0&&(G=R());){if(G===Ut){B=_.backslashes=!0,R();continue}if(G===Mf){g=_.isBracket=!0,A=_.isGlob=!0,z=!0;break}}if(r===!0)continue;break}if(t.nonegate!==!0&&y===jn&&l===u){L=_.negated=!0,u++;continue}if(t.noparen!==!0&&y===Qn){if(A=_.isGlob=!0,r===!0){for(;d()!==!0&&(y=R());){if(y===Qn){B=_.backslashes=!0,y=R();continue}if(y===ha){z=!0;break}}continue}break}if(A===!0){if(z=!0,r===!0)continue;break}}t.noext===!0&&(v=!1,A=!1);let S=f,M="",b="";u>0&&(M=f.slice(0,u),f=f.slice(u),p-=u),S&&A===!0&&p>0?(S=f.slice(0,p),b=f.slice(p)):A===!0?(S="",b=f):S=f,S&&S!==""&&S!=="/"&&S!==f&&da(S.charCodeAt(S.length-1))&&(S=S.slice(0,-1)),t.unescape===!0&&(b&&(b=fa.removeBackslashes(b)),S&&B===!0&&(S=fa.removeBackslashes(S)));const w={prefix:M,input:e,start:u,base:S,glob:b,isBrace:h,isBracket:g,isGlob:A,isExtglob:v,isGlobstar:T,negated:L,negatedExtglob:C};if(t.tokens===!0&&(w.maxDepth=0,da(y)||s.push(_),w.tokens=s),t.parts===!0||t.tokens===!0){let G;for(let m=0;m<a.length;m++){const W=G?G+1:u,F=a[m],J=e.slice(W,F);t.tokens&&(m===0&&u!==0?(s[m].isPrefix=!0,s[m].value=M):s[m].value=J,_a(s[m]),w.maxDepth+=s[m].depth),(m!==0||J!=="")&&o.push(J),G=F}if(G&&G+1<e.length){const m=e.slice(G+1);o.push(m),t.tokens&&(s[s.length-1].value=m,_a(s[s.length-1]),w.maxDepth+=s[s.length-1].depth)}w.slashes=a,w.parts=o}return w};const cn=un,ge=Mt,{MAX_LENGTH:hn,POSIX_REGEX_SOURCE:zf,REGEX_NON_SPECIAL_CHARS:Pf,REGEX_SPECIAL_CHARS_BACKREF:Bf,REPLACEMENTS:pa}=cn,Df=(e,n)=>{if(typeof n.expandRange=="function")return n.expandRange(...e,n);e.sort();const t=`[${e.join("-")}]`;try{new RegExp(t)}catch{return e.map(r=>ge.escapeRegex(r)).join("..")}return t},gt=(e,n)=>`Missing ${e}: "${n}" - use "\\\\${n}" to match literal characters`,Yn=(e,n)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=pa[e]||e;const t={...n},i=typeof t.maxLength=="number"?Math.min(hn,t.maxLength):hn;let r=e.length;if(r>i)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${i}`);const a={type:"bos",value:"",output:t.prepend||""},s=[a],o=t.capture?"":"?:",f=ge.isWindows(n),l=cn.globChars(f),u=cn.extglobChars(l),{DOT_LITERAL:p,PLUS_LITERAL:h,SLASH_LITERAL:g,ONE_CHAR:A,DOTS_SLASH:v,NO_DOT:T,NO_DOT_SLASH:O,NO_DOTS_SLASH:B,QMARK:L,QMARK_NO_DOT:C,STAR:z,START_ANCHOR:j}=l,N=x=>`(${o}(?:(?!${j}${x.dot?v:p}).)*?)`,y=t.dot?"":T,_=t.dot?L:C;let d=t.bash===!0?N(t):z;t.capture&&(d=`(${d})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);const c={input:e,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=ge.removePrefix(e,c),r=e.length;const R=[],S=[],M=[];let b=a,w;const G=()=>c.index===r-1,m=c.peek=(x=1)=>e[c.index+x],W=c.advance=()=>e[++c.index]||"",F=()=>e.slice(c.index+1),J=(x="",k=0)=>{c.consumed+=x,c.index+=k},ie=x=>{c.output+=x.output!=null?x.output:x.value,J(x.value)},I=()=>{let x=1;for(;m()==="!"&&(m(2)!=="("||m(3)==="?");)W(),c.start++,x++;return x%2===0?!1:(c.negated=!0,c.start++,!0)},q=x=>{c[x]++,M.push(x)},ee=x=>{c[x]--,M.pop()},H=x=>{if(b.type==="globstar"){const k=c.braces>0&&(x.type==="comma"||x.type==="brace"),E=x.extglob===!0||R.length&&(x.type==="pipe"||x.type==="paren");x.type!=="slash"&&x.type!=="paren"&&!k&&!E&&(c.output=c.output.slice(0,-b.output.length),b.type="star",b.value="*",b.output=d,c.output+=b.output)}if(R.length&&x.type!=="paren"&&(R[R.length-1].inner+=x.value),(x.value||x.output)&&ie(x),b&&b.type==="text"&&x.type==="text"){b.value+=x.value,b.output=(b.output||"")+x.value;return}x.prev=b,s.push(x),b=x},ne=(x,k)=>{const E={...u[k],conditions:1,inner:""};E.prev=b,E.parens=c.parens,E.output=c.output;const $=(t.capture?"(":"")+E.open;q("parens"),H({type:x,value:k,output:c.output?"":A}),H({type:"paren",extglob:!0,value:W(),output:$}),R.push(E)},se=x=>{let k=x.close+(t.capture?")":""),E;if(x.type==="negate"){let $=d;if(x.inner&&x.inner.length>1&&x.inner.includes("/")&&($=N(t)),($!==d||G()||/^\)+$/.test(F()))&&(k=x.close=`)$))${$}`),x.inner.includes("*")&&(E=F())&&/^\.[^\\/.]+$/.test(E)){const Z=Yn(E,{...n,fastpaths:!1}).output;k=x.close=`)${Z})${$})`}x.prev.type==="bos"&&(c.negatedExtglob=!0)}H({type:"paren",extglob:!0,value:w,output:k}),ee("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let x=!1,k=e.replace(Bf,(E,$,Z,U,P,Q)=>U==="\\"?(x=!0,E):U==="?"?$?$+U+(P?L.repeat(P.length):""):Q===0?_+(P?L.repeat(P.length):""):L.repeat(Z.length):U==="."?p.repeat(Z.length):U==="*"?$?$+U+(P?d:""):d:$?E:`\\${E}`);return x===!0&&(t.unescape===!0?k=k.replace(/\\/g,""):k=k.replace(/\\+/g,E=>E.length%2===0?"\\\\":E?"\\":"")),k===e&&t.contains===!0?(c.output=e,c):(c.output=ge.wrapOutput(k,c,n),c)}for(;!G();){if(w=W(),w==="\0")continue;if(w==="\\"){const E=m();if(E==="/"&&t.bash!==!0||E==="."||E===";")continue;if(!E){w+="\\",H({type:"text",value:w});continue}const $=/^\\+/.exec(F());let Z=0;if($&&$[0].length>2&&(Z=$[0].length,c.index+=Z,Z%2!==0&&(w+="\\")),t.unescape===!0?w=W():w+=W(),c.brackets===0){H({type:"text",value:w});continue}}if(c.brackets>0&&(w!=="]"||b.value==="["||b.value==="[^")){if(t.posix!==!1&&w===":"){const E=b.value.slice(1);if(E.includes("[")&&(b.posix=!0,E.includes(":"))){const $=b.value.lastIndexOf("["),Z=b.value.slice(0,$),U=b.value.slice($+2),P=zf[U];if(P){b.value=Z+P,c.backtrack=!0,W(),!a.output&&s.indexOf(b)===1&&(a.output=A);continue}}}(w==="["&&m()!==":"||w==="-"&&m()==="]")&&(w=`\\${w}`),w==="]"&&(b.value==="["||b.value==="[^")&&(w=`\\${w}`),t.posix===!0&&w==="!"&&b.value==="["&&(w="^"),b.value+=w,ie({value:w});continue}if(c.quotes===1&&w!=='"'){w=ge.escapeRegex(w),b.value+=w,ie({value:w});continue}if(w==='"'){c.quotes=c.quotes===1?0:1,t.keepQuotes===!0&&H({type:"text",value:w});continue}if(w==="("){q("parens"),H({type:"paren",value:w});continue}if(w===")"){if(c.parens===0&&t.strictBrackets===!0)throw new SyntaxError(gt("opening","("));const E=R[R.length-1];if(E&&c.parens===E.parens+1){se(R.pop());continue}H({type:"paren",value:w,output:c.parens?")":"\\)"}),ee("parens");continue}if(w==="["){if(t.nobracket===!0||!F().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(gt("closing","]"));w=`\\${w}`}else q("brackets");H({type:"bracket",value:w});continue}if(w==="]"){if(t.nobracket===!0||b&&b.type==="bracket"&&b.value.length===1){H({type:"text",value:w,output:`\\${w}`});continue}if(c.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(gt("opening","["));H({type:"text",value:w,output:`\\${w}`});continue}ee("brackets");const E=b.value.slice(1);if(b.posix!==!0&&E[0]==="^"&&!E.includes("/")&&(w=`/${w}`),b.value+=w,ie({value:w}),t.literalBrackets===!1||ge.hasRegexChars(E))continue;const $=ge.escapeRegex(b.value);if(c.output=c.output.slice(0,-b.value.length),t.literalBrackets===!0){c.output+=$,b.value=$;continue}b.value=`(${o}${$}|${b.value})`,c.output+=b.value;continue}if(w==="{"&&t.nobrace!==!0){q("braces");const E={type:"brace",value:w,output:"(",outputIndex:c.output.length,tokensIndex:c.tokens.length};S.push(E),H(E);continue}if(w==="}"){const E=S[S.length-1];if(t.nobrace===!0||!E){H({type:"text",value:w,output:w});continue}let $=")";if(E.dots===!0){const Z=s.slice(),U=[];for(let P=Z.length-1;P>=0&&(s.pop(),Z[P].type!=="brace");P--)Z[P].type!=="dots"&&U.unshift(Z[P].value);$=Df(U,t),c.backtrack=!0}if(E.comma!==!0&&E.dots!==!0){const Z=c.output.slice(0,E.outputIndex),U=c.tokens.slice(E.tokensIndex);E.value=E.output="\\{",w=$="\\}",c.output=Z;for(const P of U)c.output+=P.output||P.value}H({type:"brace",value:w,output:$}),ee("braces"),S.pop();continue}if(w==="|"){R.length>0&&R[R.length-1].conditions++,H({type:"text",value:w});continue}if(w===","){let E=w;const $=S[S.length-1];$&&M[M.length-1]==="braces"&&($.comma=!0,E="|"),H({type:"comma",value:w,output:E});continue}if(w==="/"){if(b.type==="dot"&&c.index===c.start+1){c.start=c.index+1,c.consumed="",c.output="",s.pop(),b=a;continue}H({type:"slash",value:w,output:g});continue}if(w==="."){if(c.braces>0&&b.type==="dot"){b.value==="."&&(b.output=p);const E=S[S.length-1];b.type="dots",b.output+=w,b.value+=w,E.dots=!0;continue}if(c.braces+c.parens===0&&b.type!=="bos"&&b.type!=="slash"){H({type:"text",value:w,output:p});continue}H({type:"dot",value:w,output:p});continue}if(w==="?"){if(!(b&&b.value==="(")&&t.noextglob!==!0&&m()==="("&&m(2)!=="?"){ne("qmark",w);continue}if(b&&b.type==="paren"){const $=m();let Z=w;if($==="<"&&!ge.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(b.value==="("&&!/[!=<:]/.test($)||$==="<"&&!/<([!=]|\w+>)/.test(F()))&&(Z=`\\${w}`),H({type:"text",value:w,output:Z});continue}if(t.dot!==!0&&(b.type==="slash"||b.type==="bos")){H({type:"qmark",value:w,output:C});continue}H({type:"qmark",value:w,output:L});continue}if(w==="!"){if(t.noextglob!==!0&&m()==="("&&(m(2)!=="?"||!/[!=<:]/.test(m(3)))){ne("negate",w);continue}if(t.nonegate!==!0&&c.index===0){I();continue}}if(w==="+"){if(t.noextglob!==!0&&m()==="("&&m(2)!=="?"){ne("plus",w);continue}if(b&&b.value==="("||t.regex===!1){H({type:"plus",value:w,output:h});continue}if(b&&(b.type==="bracket"||b.type==="paren"||b.type==="brace")||c.parens>0){H({type:"plus",value:w});continue}H({type:"plus",value:h});continue}if(w==="@"){if(t.noextglob!==!0&&m()==="("&&m(2)!=="?"){H({type:"at",extglob:!0,value:w,output:""});continue}H({type:"text",value:w});continue}if(w!=="*"){(w==="$"||w==="^")&&(w=`\\${w}`);const E=Pf.exec(F());E&&(w+=E[0],c.index+=E[0].length),H({type:"text",value:w});continue}if(b&&(b.type==="globstar"||b.star===!0)){b.type="star",b.star=!0,b.value+=w,b.output=d,c.backtrack=!0,c.globstar=!0,J(w);continue}let x=F();if(t.noextglob!==!0&&/^\([^?]/.test(x)){ne("star",w);continue}if(b.type==="star"){if(t.noglobstar===!0){J(w);continue}const E=b.prev,$=E.prev,Z=E.type==="slash"||E.type==="bos",U=$&&($.type==="star"||$.type==="globstar");if(t.bash===!0&&(!Z||x[0]&&x[0]!=="/")){H({type:"star",value:w,output:""});continue}const P=c.braces>0&&(E.type==="comma"||E.type==="brace"),Q=R.length&&(E.type==="pipe"||E.type==="paren");if(!Z&&E.type!=="paren"&&!P&&!Q){H({type:"star",value:w,output:""});continue}for(;x.slice(0,3)==="/**";){const D=e[c.index+4];if(D&&D!=="/")break;x=x.slice(3),J("/**",3)}if(E.type==="bos"&&G()){b.type="globstar",b.value+=w,b.output=N(t),c.output=b.output,c.globstar=!0,J(w);continue}if(E.type==="slash"&&E.prev.type!=="bos"&&!U&&G()){c.output=c.output.slice(0,-(E.output+b.output).length),E.output=`(?:${E.output}`,b.type="globstar",b.output=N(t)+(t.strictSlashes?")":"|$)"),b.value+=w,c.globstar=!0,c.output+=E.output+b.output,J(w);continue}if(E.type==="slash"&&E.prev.type!=="bos"&&x[0]==="/"){const D=x[1]!==void 0?"|$":"";c.output=c.output.slice(0,-(E.output+b.output).length),E.output=`(?:${E.output}`,b.type="globstar",b.output=`${N(t)}${g}|${g}${D})`,b.value+=w,c.output+=E.output+b.output,c.globstar=!0,J(w+W()),H({type:"slash",value:"/",output:""});continue}if(E.type==="bos"&&x[0]==="/"){b.type="globstar",b.value+=w,b.output=`(?:^|${g}|${N(t)}${g})`,c.output=b.output,c.globstar=!0,J(w+W()),H({type:"slash",value:"/",output:""});continue}c.output=c.output.slice(0,-b.output.length),b.type="globstar",b.output=N(t),b.value+=w,c.output+=b.output,c.globstar=!0,J(w);continue}const k={type:"star",value:w,output:d};if(t.bash===!0){k.output=".*?",(b.type==="bos"||b.type==="slash")&&(k.output=y+k.output),H(k);continue}if(b&&(b.type==="bracket"||b.type==="paren")&&t.regex===!0){k.output=w,H(k);continue}(c.index===c.start||b.type==="slash"||b.type==="dot")&&(b.type==="dot"?(c.output+=O,b.output+=O):t.dot===!0?(c.output+=B,b.output+=B):(c.output+=y,b.output+=y),m()!=="*"&&(c.output+=A,b.output+=A)),H(k)}for(;c.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(gt("closing","]"));c.output=ge.escapeLast(c.output,"["),ee("brackets")}for(;c.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(gt("closing",")"));c.output=ge.escapeLast(c.output,"("),ee("parens")}for(;c.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(gt("closing","}"));c.output=ge.escapeLast(c.output,"{"),ee("braces")}if(t.strictSlashes!==!0&&(b.type==="star"||b.type==="bracket")&&H({type:"maybe_slash",value:"",output:`${g}?`}),c.backtrack===!0){c.output="";for(const x of c.tokens)c.output+=x.output!=null?x.output:x.value,x.suffix&&(c.output+=x.suffix)}return c};Yn.fastpaths=(e,n)=>{const t={...n},i=typeof t.maxLength=="number"?Math.min(hn,t.maxLength):hn,r=e.length;if(r>i)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${i}`);e=pa[e]||e;const a=ge.isWindows(n),{DOT_LITERAL:s,SLASH_LITERAL:o,ONE_CHAR:f,DOTS_SLASH:l,NO_DOT:u,NO_DOTS:p,NO_DOTS_SLASH:h,STAR:g,START_ANCHOR:A}=cn.globChars(a),v=t.dot?p:u,T=t.dot?h:u,O=t.capture?"":"?:",B={negated:!1,prefix:""};let L=t.bash===!0?".*?":g;t.capture&&(L=`(${L})`);const C=y=>y.noglobstar===!0?L:`(${O}(?:(?!${A}${y.dot?l:s}).)*?)`,z=y=>{switch(y){case"*":return`${v}${f}${L}`;case".*":return`${s}${f}${L}`;case"*.*":return`${v}${L}${s}${f}${L}`;case"*/*":return`${v}${L}${o}${f}${T}${L}`;case"**":return v+C(t);case"**/*":return`(?:${v}${C(t)}${o})?${T}${f}${L}`;case"**/*.*":return`(?:${v}${C(t)}${o})?${T}${L}${s}${f}${L}`;case"**/.*":return`(?:${v}${C(t)}${o})?${s}${f}${L}`;default:{const _=/^(.*?)\.(\w+)$/.exec(y);if(!_)return;const d=z(_[1]);return d?d+s+_[2]:void 0}}},j=ge.removePrefix(e,B);let N=z(j);return N&&t.strictSlashes!==!0&&(N+=`${o}?`),N};var Zf=Yn;const Gf=Zn,Kf=Uf,Vn=Zf,Jn=Mt,Xf=un,Wf=e=>e&&typeof e=="object"&&!Array.isArray(e),re=(e,n,t=!1)=>{if(Array.isArray(e)){const u=e.map(h=>re(h,n,t));return h=>{for(const g of u){const A=g(h);if(A)return A}return!1}}const i=Wf(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!i)throw new TypeError("Expected pattern to be a non-empty string");const r=n||{},a=Jn.isWindows(n),s=i?re.compileRe(e,n):re.makeRe(e,n,!1,!0),o=s.state;delete s.state;let f=()=>!1;if(r.ignore){const u={...n,ignore:null,onMatch:null,onResult:null};f=re(r.ignore,u,t)}const l=(u,p=!1)=>{const{isMatch:h,match:g,output:A}=re.test(u,s,n,{glob:e,posix:a}),v={glob:e,state:o,regex:s,posix:a,input:u,output:A,match:g,isMatch:h};return typeof r.onResult=="function"&&r.onResult(v),h===!1?(v.isMatch=!1,p?v:!1):f(u)?(typeof r.onIgnore=="function"&&r.onIgnore(v),v.isMatch=!1,p?v:!1):(typeof r.onMatch=="function"&&r.onMatch(v),p?v:!0)};return t&&(l.state=o),l};re.test=(e,n,t,{glob:i,posix:r}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};const a=t||{},s=a.format||(r?Jn.toPosixSlashes:null);let o=e===i,f=o&&s?s(e):e;return o===!1&&(f=s?s(e):e,o=f===i),(o===!1||a.capture===!0)&&(a.matchBase===!0||a.basename===!0?o=re.matchBase(e,n,t,r):o=n.exec(f)),{isMatch:!!o,match:o,output:f}},re.matchBase=(e,n,t,i=Jn.isWindows(t))=>(n instanceof RegExp?n:re.makeRe(n,t)).test(Gf.basename(e)),re.isMatch=(e,n,t)=>re(n,t)(e),re.parse=(e,n)=>Array.isArray(e)?e.map(t=>re.parse(t,n)):Vn(e,{...n,fastpaths:!1}),re.scan=(e,n)=>Kf(e,n),re.compileRe=(e,n,t=!1,i=!1)=>{if(t===!0)return e.output;const r=n||{},a=r.contains?"":"^",s=r.contains?"":"$";let o=`${a}(?:${e.output})${s}`;e&&e.negated===!0&&(o=`^(?!${o}).*$`);const f=re.toRegex(o,n);return i===!0&&(f.state=e),f},re.makeRe=(e,n={},t=!1,i=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let r={negated:!1,fastpaths:!0};return n.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(r.output=Vn.fastpaths(e,n)),r.output||(r=Vn(e,n)),re.compileRe(r,n,t,i)},re.toRegex=(e,n)=>{try{const t=n||{};return new RegExp(e,t.flags||(t.nocase?"i":""))}catch(t){if(n&&n.debug===!0)throw t;return/$^/}},re.constants=Xf;var jf=re,qf=jf;const ga=Hi,ba=wf,Te=qf,er=Mt,wa=e=>e===""||e==="./",V=(e,n,t)=>{n=[].concat(n),e=[].concat(e);let i=new Set,r=new Set,a=new Set,s=0,o=u=>{a.add(u.output),t&&t.onResult&&t.onResult(u)};for(let u=0;u<n.length;u++){let p=Te(String(n[u]),{...t,onResult:o},!0),h=p.state.negated||p.state.negatedExtglob;h&&s++;for(let g of e){let A=p(g,!0);(h?!A.isMatch:A.isMatch)&&(h?i.add(A.output):(i.delete(A.output),r.add(A.output)))}}let l=(s===n.length?[...a]:[...r]).filter(u=>!i.has(u));if(t&&l.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${n.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?n.map(u=>u.replace(/\\/g,"")):n}return l};V.match=V,V.matcher=(e,n)=>Te(e,n),V.isMatch=(e,n,t)=>Te(n,t)(e),V.any=V.isMatch,V.not=(e,n,t={})=>{n=[].concat(n).map(String);let i=new Set,r=[],a=o=>{t.onResult&&t.onResult(o),r.push(o.output)},s=new Set(V(e,n,{...t,onResult:a}));for(let o of r)s.has(o)||i.add(o);return[...i]},V.contains=(e,n,t)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${ga.inspect(e)}"`);if(Array.isArray(n))return n.some(i=>V.contains(e,i,t));if(typeof n=="string"){if(wa(e)||wa(n))return!1;if(e.includes(n)||e.startsWith("./")&&e.slice(2).includes(n))return!0}return V.isMatch(e,n,{...t,contains:!0})},V.matchKeys=(e,n,t)=>{if(!er.isObject(e))throw new TypeError("Expected the first argument to be an object");let i=V(Object.keys(e),n,t),r={};for(let a of i)r[a]=e[a];return r},V.some=(e,n,t)=>{let i=[].concat(e);for(let r of[].concat(n)){let a=Te(String(r),t);if(i.some(s=>a(s)))return!0}return!1},V.every=(e,n,t)=>{let i=[].concat(e);for(let r of[].concat(n)){let a=Te(String(r),t);if(!i.every(s=>a(s)))return!1}return!0},V.all=(e,n,t)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${ga.inspect(e)}"`);return[].concat(n).every(i=>Te(i,t)(e))},V.capture=(e,n,t)=>{let i=er.isWindows(t),a=Te.makeRe(String(e),{...t,capture:!0}).exec(i?er.toPosixSlashes(n):n);if(a)return a.slice(1).map(s=>s===void 0?"":s)},V.makeRe=(...e)=>Te.makeRe(...e),V.scan=(...e)=>Te.scan(...e),V.parse=(e,n)=>{let t=[];for(let i of[].concat(e||[]))for(let r of ba(String(i),n))t.push(Te.parse(r,n));return t},V.braces=(e,n)=>{if(typeof e!="string")throw new TypeError("Expected a string");return n&&n.nobrace===!0||!/\{.*\}/.test(e)?[e]:ba(e,n)},V.braceExpand=(e,n)=>{if(typeof e!="string")throw new TypeError("Expected a string");return V.braces(e,{...n,expand:!0})};var Qf=V,zt=Li(Qf);const Yf=["simwrapper",".simwrapper"],Pt={};class Vf{constructor(n,t){bt(this,"baseUrl");bt(this,"urlId");bt(this,"needsAuth");bt(this,"fsHandle");bt(this,"store");this.urlId=n.slug,this.needsAuth=!!n.needPassword,this.fsHandle=n.handle||null,this.store=t||null,this.baseUrl=n.baseURL,n.baseURL.endsWith("/")||(this.baseUrl+="/"),Pt[this.urlId]||(Pt[this.urlId]={})}hasHandle(){return!!this.fsHandle}async getChromePermission(n){return n&&await n.queryPermission({mode:"read"})!=="granted"&&this.store?await new Promise(a=>{this.store.commit("setFileHandleForPermissionRequest",{handle:n,resolve:a})}):!0}clearCache(){Pt[this.urlId]={}}cleanURL(n){let t=this.baseUrl+n.replace(/^0-9a-zA-Z_\-\/:+/i,"");return t=t.replaceAll("//","/"),t=t.replaceAll("//","/"),t=t.replace("https:/","https://"),t=t.replace("http:/","http://"),t="/data"+t,t}async _getFileResponse(n){return this.fsHandle?this._getFileFromChromeFileSystem(n):this._getFileFetchResponse(n)}async _getFileFetchResponse(n){const t=this.cleanURL(n),i={};let r=new Request(t,{headers:i});t.endsWith("/")&&(r=new Request(t+"/index.html",{headers:i}));function a(){return new Promise(o=>{setTimeout(o,2e3)})}if(t.indexOf("/?")>-1){const o=t.indexOf("/?"),f=t.substring(0,o+1)+"index.html?"+t.substring(o+2);console.log(88,f),await a(),r=new Request(f,{headers:i})}return await fetch(r).then(o=>{if(o.status!=200)throw console.log("Status:",o.status),o;return o})}async _getFileFromChromeFileSystem(n){let t=n.replace(/^0-9a-zA-Z_\-\/:+/i,"");t=t.replaceAll("//","/"),t=new URL(`http://local/${t}`).href,t=t.substring(13);const i=t.lastIndexOf("/"),r=t.substring(0,i),a=t.substring(i+1),o=(await this.getDirectory(r)).handles[a];if(!o)throw Error(`File ${a} missing`);const f=await o.getFile();return f.json=()=>new Promise(async(l,u)=>{const p=await f.text(),h=JSON.parse(p);l(h)}),f.blob=()=>new Promise(async(l,u)=>{l(f)}),new Promise((l,u)=>{l(f)})}async getFileText(n){return(await this._getFileResponse(n)).text()}async getFileJson(n){const r=await(await(await this._getFileResponse(n)).blob()).arrayBuffer(),a=this.gUnzip(r),s=new TextDecoder("utf-8").decode(a);return JSON.parse(s)}async getFileBlob(n){return(await this._getFileResponse(n)).blob()}async getFileStream(n){return this.fsHandle?await this._getFileFromChromeFileSystem(n).then(i=>i.blob()).then(i=>i.stream()):await this._getFileFetchResponse(n).then(i=>i.body)}async getDirectory(n){let t=n.replaceAll("//","/");t.endsWith("/")||(t+="/");const i=Pt[this.urlId][t];if(i)return i;try{const r=this.fsHandle?await this.getDirectoryFromHandle(t):await this.getDirectoryFromURL(t);return Pt[this.urlId][t]=r,r}catch(r){throw Error(""+r)}}async getDirectoryFromHandle(n,t){const i={files:[],dirs:[],handles:{}};if(!this.fsHandle||!await this.getChromePermission(this.fsHandle))return i;let a=n.split("/").filter(l=>!!l);function s(l){const u=l.indexOf("..");if(u<=0)return l;const p=l.filter((h,g)=>g!==u-1&&g!==u);return s(p)}const o=s(a);let f=this.fsHandle;if(o.length)for(const l of o){let u=!1;for await(let[p,h]of f)if(p===l){f=h,u=!0;break}if(!u)throw Error(`Could not find folder "${l}"`)}for await(let l of f.values())i.handles&&(i.handles[l.name]=l),l.kind==="file"?i.files.push(l.name):i.dirs.push(l.name);return i}async getDirectoryFromURL(n){const i=await(await this._getFileResponse(n)).text();return this.buildListFromHtml(i)}async findAllYamlConfigs(n){const t={dashboards:{},topsheets:{},vizes:{},configs:{}},i=[];let r="/";const s=(n.startsWith("/")?n:"/"+n).split("/");for(const p of s.slice(0,s.length-1)){r=`${r}${p}/`.replaceAll("//","/");try{const{dirs:h}=await this.getDirectory(r);for(const g of Yf)h.includes(g)&&i.push(`${r}/${g}`.replaceAll("//","/"))}catch{}}i.push(n||"/");const o="dashboard*.y?(a)ml",f="(topsheet|table)*.y?(a)ml",l="viz*.y?(a)ml",u="simwrapper-config.y?(a)ml";for(const p of i){const{files:h}=await this.getDirectory(p);zt.match(h,o).map(g=>t.dashboards[g]=`${p}/${g}`.replaceAll("//","/")),zt.match(h,f).map(g=>t.topsheets[g]=`${p}/${g}`.replaceAll("//","/")),zt.match(h,l).map(g=>t.vizes[g]=`${p}/${g}`.replaceAll("//","/")),zt.match(h,u).map(g=>t.configs[g]=`${p}/${g}`.replaceAll("//","/"))}return t.dashboards=Object.fromEntries(Object.entries(t.dashboards).sort((p,h)=>p[0]>h[0]?1:-1)),t.topsheets=Object.fromEntries(Object.entries(t.topsheets).sort((p,h)=>p[0]>h[0]?1:-1)),t.vizes=Object.fromEntries(Object.entries(t.vizes).sort((p,h)=>p[0]>h[0]?1:-1)),t.configs=Object.fromEntries(Object.entries(t.configs).sort((p,h)=>p[0]>h[0]?1:-1)),t}buildListFromHtml(n){return n.indexOf("SimpleWebServer")>-1?this.buildListFromSimpleWebServer(n):n.indexOf("<ul>")>-1?this.buildListFromSVN(n):n.indexOf("<table>")>-1?this.buildListFromApache24(n):n.indexOf(`
<a `)>-1?this.buildListFromNGINX(n):{dirs:[],files:[],handles:{}}}buildListFromSimpleWebServer(n){const t=/">(.*?)<\/a/,i=[],r=[],a=n.split(`
`);for(const s of a){if(s.indexOf('<li><a href="')<0)continue;const f=s.match(t);if(!f)continue;const l=f[1];l.endsWith("/")?i.push(l.substring(0,l.length-1)):r.push(l)}return{dirs:i,files:r,handles:{}}}buildListFromSVN(n){const t=/"(.*?)"/,i=[],r=[],a=n.split(`
`);for(const s of a){if(s.indexOf('<li><a href="')<0)continue;const f=s.match(t);if(!f)continue;let l=f[1];l!=="../"&&(l.startsWith("./")&&(l=l.substring(2)),l.endsWith("/")?i.push(l.substring(0,l.length-1)):r.push(l))}return{dirs:i,files:r,handles:{}}}buildListFromApache24(n){const t=/"(.*?)"/,i=[],r=[],a=n.split(`
`);for(const s of a){if(s.indexOf('<th "')>-1||s.indexOf("[PARENTDIR]")>-1)continue;const o=s.indexOf('<td><a href="');if(o<0)continue;const f=s.substring(o).match(t);if(!f)continue;const l=f[1];l!=="../"&&(l.endsWith("/")?i.push(l.substring(0,l.length-1)):r.push(l))}return{dirs:i,files:r,handles:{}}}buildListFromNGINX(n){const t=/"(.*?)"/,i=[],r=[],a=n.split(`
`);for(const s of a){const o=s.indexOf('<a href="');if(o<0)continue;const f=s.substring(o).match(t);if(!f)continue;const l=f[1];l!=="../"&&(l.endsWith("/")?i.push(l.substring(0,l.length-1)):r.push(l))}return{dirs:i,files:r,handles:{}}}gUnzip(n){const t=new Uint8Array(n.slice(0,2));return t[0]===31&&t[1]===139?this.gUnzip(Si.inflate(n)):n}}var Jf={},tr={};(function(e){const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",t=n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",i="["+n+"]["+t+"]*",r=new RegExp("^"+i+"$"),a=function(o,f){const l=[];let u=f.exec(o);for(;u;){const p=[];p.startIndex=f.lastIndex-u[0].length;const h=u.length;for(let g=0;g<h;g++)p.push(u[g]);l.push(p),u=f.exec(o)}return l},s=function(o){const f=r.exec(o);return!(f===null||typeof f>"u")};e.isExist=function(o){return typeof o<"u"},e.isEmptyObject=function(o){return Object.keys(o).length===0},e.merge=function(o,f,l){if(f){const u=Object.keys(f),p=u.length;for(let h=0;h<p;h++)l==="strict"?o[u[h]]=[f[u[h]]]:o[u[h]]=f[u[h]]}},e.getValue=function(o){return e.isExist(o)?o:""},e.isName=s,e.getAllMatches=a,e.nameRegexp=i})(tr);const nr=tr,eu={allowBooleanAttributes:!1,unpairedTags:[]};Jf.validate=function(e,n){n=Object.assign({},eu,n);const t=[];let i=!1,r=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let a=0;a<e.length;a++)if(e[a]==="<"&&e[a+1]==="?"){if(a+=2,a=Ea(e,a),a.err)return a}else if(e[a]==="<"){let s=a;if(a++,e[a]==="!"){a=ya(e,a);continue}else{let o=!1;e[a]==="/"&&(o=!0,a++);let f="";for(;a<e.length&&e[a]!==">"&&e[a]!==" "&&e[a]!=="	"&&e[a]!==`
`&&e[a]!=="\r";a++)f+=e[a];if(f=f.trim(),f[f.length-1]==="/"&&(f=f.substring(0,f.length-1),a--),!lu(f)){let p;return f.trim().length===0?p="Invalid space after '<'.":p="Tag '"+f+"' is an invalid name.",ae("InvalidTag",p,_e(e,a))}const l=ru(e,a);if(l===!1)return ae("InvalidAttr","Attributes for '"+f+"' have open quote.",_e(e,a));let u=l.value;if(a=l.index,u[u.length-1]==="/"){const p=a-u.length;u=u.substring(0,u.length-1);const h=va(u,n);if(h===!0)i=!0;else return ae(h.err.code,h.err.msg,_e(e,p+h.err.line))}else if(o)if(l.tagClosed){if(u.trim().length>0)return ae("InvalidTag","Closing tag '"+f+"' can't have attributes or invalid starting.",_e(e,s));{const p=t.pop();if(f!==p.tagName){let h=_e(e,p.tagStartPos);return ae("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+f+"'.",_e(e,s))}t.length==0&&(r=!0)}}else return ae("InvalidTag","Closing tag '"+f+"' doesn't have proper closing.",_e(e,a));else{const p=va(u,n);if(p!==!0)return ae(p.err.code,p.err.msg,_e(e,a-u.length+p.err.line));if(r===!0)return ae("InvalidXml","Multiple possible root nodes found.",_e(e,a));n.unpairedTags.indexOf(f)!==-1||t.push({tagName:f,tagStartPos:s}),i=!0}for(a++;a<e.length;a++)if(e[a]==="<")if(e[a+1]==="!"){a++,a=ya(e,a);continue}else if(e[a+1]==="?"){if(a=Ea(e,++a),a.err)return a}else break;else if(e[a]==="&"){const p=su(e,a);if(p==-1)return ae("InvalidChar","char '&' is not expected.",_e(e,a));a=p}else if(r===!0&&!Aa(e[a]))return ae("InvalidXml","Extra text at the end",_e(e,a));e[a]==="<"&&a--}}else{if(Aa(e[a]))continue;return ae("InvalidChar","char '"+e[a]+"' is not expected.",_e(e,a))}if(i){if(t.length==1)return ae("InvalidTag","Unclosed tag '"+t[0].tagName+"'.",_e(e,t[0].tagStartPos));if(t.length>0)return ae("InvalidXml","Invalid '"+JSON.stringify(t.map(a=>a.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ae("InvalidXml","Start tag expected.",1);return!0};function Aa(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Ea(e,n){const t=n;for(;n<e.length;n++)if(e[n]=="?"||e[n]==" "){const i=e.substr(t,n-t);if(n>5&&i==="xml")return ae("InvalidXml","XML declaration allowed only at the start of the document.",_e(e,n));if(e[n]=="?"&&e[n+1]==">"){n++;break}else continue}return n}function ya(e,n){if(e.length>n+5&&e[n+1]==="-"&&e[n+2]==="-"){for(n+=3;n<e.length;n++)if(e[n]==="-"&&e[n+1]==="-"&&e[n+2]===">"){n+=2;break}}else if(e.length>n+8&&e[n+1]==="D"&&e[n+2]==="O"&&e[n+3]==="C"&&e[n+4]==="T"&&e[n+5]==="Y"&&e[n+6]==="P"&&e[n+7]==="E"){let t=1;for(n+=8;n<e.length;n++)if(e[n]==="<")t++;else if(e[n]===">"&&(t--,t===0))break}else if(e.length>n+9&&e[n+1]==="["&&e[n+2]==="C"&&e[n+3]==="D"&&e[n+4]==="A"&&e[n+5]==="T"&&e[n+6]==="A"&&e[n+7]==="["){for(n+=8;n<e.length;n++)if(e[n]==="]"&&e[n+1]==="]"&&e[n+2]===">"){n+=2;break}}return n}const tu='"',nu="'";function ru(e,n){let t="",i="",r=!1;for(;n<e.length;n++){if(e[n]===tu||e[n]===nu)i===""?i=e[n]:i!==e[n]||(i="");else if(e[n]===">"&&i===""){r=!0;break}t+=e[n]}return i!==""?!1:{value:t,index:n,tagClosed:r}}const iu=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function va(e,n){const t=nr.getAllMatches(e,iu),i={};for(let r=0;r<t.length;r++){if(t[r][1].length===0)return ae("InvalidAttr","Attribute '"+t[r][2]+"' has no space in starting.",Bt(t[r]));if(t[r][3]!==void 0&&t[r][4]===void 0)return ae("InvalidAttr","Attribute '"+t[r][2]+"' is without value.",Bt(t[r]));if(t[r][3]===void 0&&!n.allowBooleanAttributes)return ae("InvalidAttr","boolean attribute '"+t[r][2]+"' is not allowed.",Bt(t[r]));const a=t[r][2];if(!ou(a))return ae("InvalidAttr","Attribute '"+a+"' is an invalid name.",Bt(t[r]));if(!i.hasOwnProperty(a))i[a]=1;else return ae("InvalidAttr","Attribute '"+a+"' is repeated.",Bt(t[r]))}return!0}function au(e,n){let t=/\d/;for(e[n]==="x"&&(n++,t=/[\da-fA-F]/);n<e.length;n++){if(e[n]===";")return n;if(!e[n].match(t))break}return-1}function su(e,n){if(n++,e[n]===";")return-1;if(e[n]==="#")return n++,au(e,n);let t=0;for(;n<e.length;n++,t++)if(!(e[n].match(/\w/)&&t<20)){if(e[n]===";")break;return-1}return n}function ae(e,n,t){return{err:{code:e,msg:n,line:t.line||t,col:t.col}}}function ou(e){return nr.isName(e)}function lu(e){return nr.isName(e)}function _e(e,n){const t=e.substring(0,n).split(/\r?\n/);return{line:t.length,col:t[t.length-1].length+1}}function Bt(e){return e.startIndex+e[1].length}!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const fu=tr;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,fu.nameRegexp);const uu=`
`;function cu(e,n){let t="";return n.format&&n.indentBy.length>0&&(t=uu),ma(e,n,"",t)}function ma(e,n,t,i){let r="",a=!1;for(let s=0;s<e.length;s++){const o=e[s],f=hu(o);let l="";if(t.length===0?l=f:l=`${t}.${f}`,f===n.textNodeName){let A=o[f];du(l,n)||(A=n.tagValueProcessor(f,A),A=xa(A,n)),a&&(r+=i),r+=A,a=!1;continue}else if(f===n.cdataPropName){a&&(r+=i),r+=`<![CDATA[${o[f][0][n.textNodeName]}]]>`,a=!1;continue}else if(f===n.commentPropName){r+=i+`<!--${o[f][0][n.textNodeName]}-->`,a=!0;continue}else if(f[0]==="?"){const A=Ra(o[":@"],n),v=f==="?xml"?"":i;let T=o[f][0][n.textNodeName];T=T.length!==0?" "+T:"",r+=v+`<${f}${T}${A}?>`,a=!0;continue}let u=i;u!==""&&(u+=n.indentBy);const p=Ra(o[":@"],n),h=i+`<${f}${p}`,g=ma(o[f],n,l,u);n.unpairedTags.indexOf(f)!==-1?n.suppressUnpairedNode?r+=h+">":r+=h+"/>":(!g||g.length===0)&&n.suppressEmptyNode?r+=h+"/>":g&&g.endsWith(">")?r+=h+`>${g}${i}</${f}>`:(r+=h+">",g&&i!==""&&(g.includes("/>")||g.includes("</"))?r+=i+n.indentBy+g+i:r+=g,r+=`</${f}>`),a=!0}return r}function hu(e){const n=Object.keys(e);for(let t=0;t<n.length;t++){const i=n[t];if(i!==":@")return i}}function Ra(e,n){let t="";if(e&&!n.ignoreAttributes)for(let i in e){let r=n.attributeValueProcessor(i,e[i]);r=xa(r,n),r===!0&&n.suppressBooleanAttributes?t+=` ${i.substr(n.attributeNamePrefix.length)}`:t+=` ${i.substr(n.attributeNamePrefix.length)}="${r}"`}return t}function du(e,n){e=e.substr(0,e.length-n.textNodeName.length-1);let t=e.substr(e.lastIndexOf(".")+1);for(let i in n.stopNodes)if(n.stopNodes[i]===e||n.stopNodes[i]==="*."+t)return!0;return!1}function xa(e,n){if(e&&e.length>0&&n.processEntities)for(let t=0;t<n.entities.length;t++){const i=n.entities[t];e=e.replace(i.regex,i.val)}return e}var _u=cu;const pu=_u,gu={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,n){return n},attributeValueProcessor:function(e,n){return n},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function st(e){this.options=Object.assign({},gu,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Au),this.processTextOrObjNode=bu,this.options.format?(this.indentate=wu,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}st.prototype.build=function(e){return this.options.preserveOrder?pu(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},st.prototype.j2x=function(e,n){let t="",i="";for(let r in e)if(typeof e[r]>"u")this.isAttribute(r)&&(i+="");else if(e[r]===null)this.isAttribute(r)?i+="":r[0]==="?"?i+=this.indentate(n)+"<"+r+"?"+this.tagEndChar:i+=this.indentate(n)+"<"+r+"/"+this.tagEndChar;else if(e[r]instanceof Date)i+=this.buildTextValNode(e[r],r,"",n);else if(typeof e[r]!="object"){const a=this.isAttribute(r);if(a)t+=this.buildAttrPairStr(a,""+e[r]);else if(r===this.options.textNodeName){let s=this.options.tagValueProcessor(r,""+e[r]);i+=this.replaceEntitiesValue(s)}else i+=this.buildTextValNode(e[r],r,"",n)}else if(Array.isArray(e[r])){const a=e[r].length;let s="";for(let o=0;o<a;o++){const f=e[r][o];typeof f>"u"||(f===null?r[0]==="?"?i+=this.indentate(n)+"<"+r+"?"+this.tagEndChar:i+=this.indentate(n)+"<"+r+"/"+this.tagEndChar:typeof f=="object"?this.options.oneListGroup?s+=this.j2x(f,n+1).val:s+=this.processTextOrObjNode(f,r,n):s+=this.buildTextValNode(f,r,"",n))}this.options.oneListGroup&&(s=this.buildObjectNode(s,r,"",n)),i+=s}else if(this.options.attributesGroupName&&r===this.options.attributesGroupName){const a=Object.keys(e[r]),s=a.length;for(let o=0;o<s;o++)t+=this.buildAttrPairStr(a[o],""+e[r][a[o]])}else i+=this.processTextOrObjNode(e[r],r,n);return{attrStr:t,val:i}},st.prototype.buildAttrPairStr=function(e,n){return n=this.options.attributeValueProcessor(e,""+n),n=this.replaceEntitiesValue(n),this.options.suppressBooleanAttributes&&n==="true"?" "+e:" "+e+'="'+n+'"'};function bu(e,n,t){const i=this.j2x(e,t+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],n,i.attrStr,t):this.buildObjectNode(i.val,n,i.attrStr,t)}st.prototype.buildObjectNode=function(e,n,t,i){if(e==="")return n[0]==="?"?this.indentate(i)+"<"+n+t+"?"+this.tagEndChar:this.indentate(i)+"<"+n+t+this.closeTag(n)+this.tagEndChar;{let r="</"+n+this.tagEndChar,a="";return n[0]==="?"&&(a="?",r=""),(t||t==="")&&e.indexOf("<")===-1?this.indentate(i)+"<"+n+t+a+">"+e+r:this.options.commentPropName!==!1&&n===this.options.commentPropName&&a.length===0?this.indentate(i)+`<!--${e}-->`+this.newLine:this.indentate(i)+"<"+n+t+a+this.tagEndChar+e+this.indentate(i)+r}},st.prototype.closeTag=function(e){let n="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(n="/"):this.options.suppressEmptyNode?n="/":n=`></${e}`,n},st.prototype.buildTextValNode=function(e,n,t,i){if(this.options.cdataPropName!==!1&&n===this.options.cdataPropName)return this.indentate(i)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&n===this.options.commentPropName)return this.indentate(i)+`<!--${e}-->`+this.newLine;if(n[0]==="?")return this.indentate(i)+"<"+n+t+"?"+this.tagEndChar;{let r=this.options.tagValueProcessor(n,e);return r=this.replaceEntitiesValue(r),r===""?this.indentate(i)+"<"+n+t+this.closeTag(n)+this.tagEndChar:this.indentate(i)+"<"+n+t+">"+r+"</"+n+this.tagEndChar}},st.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let n=0;n<this.options.entities.length;n++){const t=this.options.entities[n];e=e.replace(t.regex,t.val)}return e};function wu(e){return this.options.indentBy.repeat(e)}function Au(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}function Eu(e,n){if(e.indexOf(n)>-1)return[n];const t=zt(e,n);return t.length?t:[]}let rr,Dt="",ir=[],te={},Ae="",ar,sr=!1;const Ke={};onmessage=function(e){yu(e.data)};async function yu(e){var n;if(te=e.config,Ae=te.dataset,(n=e.options)!=null&&n.highPrecision&&(sr=!0),e.featureProperties){vu(e.featureProperties),postMessage(Ke[Ae]);return}if(e.buffer){ar=e.buffer,Sa(Ae,ar),postMessage(Ke[Ae]);return}rr=new Vf(e.fileSystemConfig),Dt=e.subfolder,ir=e.files,ar=e.buffer;try{const t=te.dataset.indexOf("/");if(t>-1){const i=t===0?te.dataset:`${Dt}/${te.dataset}`;Ae=i.substring(1+i.lastIndexOf("/")),Dt=i.substring(0,i.lastIndexOf("/"));const{files:r}=await rr.getDirectory(Dt);ir=r}await mu(),postMessage(Ke[Ae])}catch(t){const i=""+t;postMessage({error:i})}}function vu(e){const n={},t=e[0];let i=Object.keys(t).sort();if(te.drop){let r=Array.isArray(te.drop)?te.drop:te.drop.split(",");r.length&&(console.log("DROPPING",r),i=i.filter(a=>r.indexOf(a)==-1))}if(te.keep){let r=Array.isArray(te.keep)?te.keep:te.keep.split(",");r.length&&(console.log("KEEPING",r),i=i.filter(a=>r.indexOf(a)>-1))}for(const r of i){let a,s=de.NUMBER;typeof t[r]=="number"?(a=sr?new Float64Array(e.length):new Float32Array(e.length),a.fill(NaN)):(a=[],s=de.STRING),n[r]={name:r,values:a,type:s}}for(let r=0;r<e.length;r++){const a=e[r];for(const s of i){const o=a[s];n[s].values[r]=o}}Ke[Ae]=n,or(Ae,n)}async function mu(){const e=Ae,n=Eu(ir,e);if(n.length==0)throw Error(`No files matched "${e}"`);if(n.length>1)throw Error(`More than one file matched "${e}": ${n}`);const t=n[0],i=await Su(t);Sa(t,i)}async function Sa(e,n){if(e&&e.toLocaleLowerCase().endsWith(".dbf")){const t=Sl(n,new TextDecoder("windows-1252"));or(Ae,t),Ke[Ae]=t}else{const t=new TextDecoder().decode(n);await Ru(Ae,e,t)}}async function Ru(e,n,t){function i(r,a){return Array.isArray(a)&&a.length>0?i(r[a[0]],a.slice(1)):r}if(n.indexOf(".xml")>-1){const r={},a=te;if(a.xmlElements){const s=a.xmlElements.split(".");i(r,s),Ke[e]={}}else Ke[e]={};return}xu(e,n,t)}function xu(e,n,t){const i={},r={},a=Nl.parse(t,{delimitersToGuess:["	",";",","," "],comments:"#",skipEmptyLines:!0,dynamicTyping:!0,header:!0,transformHeader:(o,f)=>(r[o]||(r[o]=0),r[o]+=1,r[o]>1?`${o.trim()}_${r[o]-1}`:o.trim())});let s=a.meta.fields||[];if(te.drop){let o=Array.isArray(te.drop)?te.drop:te.drop.split(",");o.length&&(console.log("DROPPING",o),s=s.filter(f=>o.indexOf(f)==-1))}if(te.keep){let o=Array.isArray(te.keep)?te.keep:te.keep.split(",");o.length&&(console.log("KEEPING",o),s=s.filter(f=>o.indexOf(f)>-1))}for(const o of s){const f=sr?new Float64Array(a.data.length).fill(NaN):new Float32Array(a.data.length).fill(NaN);i[o]={name:o,values:f,type:de.NUMBER}}for(let o=0;o<a.data.length;o++){const f=a.data[o];for(const l of s){const u=f[l];if(u!=="")if(Number.isFinite(u))i[l].values[o]=u;else if(Array.isArray(i[l].values))i[l].values[o]=u;else{const p=Array.from(i[l].values.slice(0,o));typeof u=="string"&&(i[l].type=de.STRING),typeof u=="boolean"&&(i[l].type=de.BOOLEAN),p[o]=u,i[l].values=p}}}or(e,i),Ke[e]=i}function or(e,n){for(const t of Object.values(n)){if(t.type!==de.NUMBER)continue;let i=-1/0;for(const r of t.values)i=Math.max(i,r);t.max=i}}async function Su(e){function n(s){const o=new Uint8Array(s.slice(0,2));return o[0]===31&&o[1]===139?n(Si.inflate(s)):s}const t=`${Dt}/${e}`,i=await rr.getFileBlob(t);if(!i)throw Error("BLOB IS NULL");const r=await i.arrayBuffer();return n(r)}})();
//# sourceMappingURL=DataFetcher.worker-683be15e.js.map
