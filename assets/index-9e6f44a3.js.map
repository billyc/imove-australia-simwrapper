{"version":3,"file":"index-9e6f44a3.js","sources":["../../node_modules/read-blob/index.js"],"sourcesContent":["/* global FileReader, Blob */\n\nvar methods = {\n  arraybuffer: 'readAsArrayBuffer',\n  dataurl: 'readAsDataURL',\n  text: 'readAsText'\n};\n\nfunction readBlob (blob, type, cb) {\n  var promise;\n\n  if (typeof type !== 'string') {\n    cb = type;\n    type = 'arraybuffer';\n  }\n\n  if (!(blob instanceof Blob)) {\n    var err = new Error('first argument is not a blob');\n    if (cb) {\n      cb(err);\n      return;\n    } else {\n      return Promise.reject(err);\n    }\n  }\n\n  if (!cb) {\n    promise = new Promise(function (resolve, reject) {\n      cb = function (err, result) {\n        if (err) reject(err);\n        else resolve(result);\n      };\n    });\n  }\n\n  var method = methods[type.toLowerCase()];\n  var reader = new FileReader();\n\n  reader.addEventListener('loadend', function onend (e) {\n    reader.removeEventListener('loadend', onend);\n    if (e.error) {\n      cb(e.error);\n    } else {\n      cb(null, reader.result);\n    }\n  });\n\n  if (method) {\n    reader[method](blob);\n  } else {\n    // assume the output value is a text encoding\n    reader.readAsText(blob, type);\n  }\n\n  return promise;\n}\n\nmodule.exports = readBlob;\n\n// add arraybuffer, dataurl, and text methods\n// as aliases to their options counterpart\nObject.keys(methods).forEach(function (type) {\n  readBlob[type] = function (blob, cb) {\n    return readBlob(blob, type, cb);\n  };\n});\n"],"names":["methods","readBlob","blob","type","cb","promise","err","resolve","reject","result","method","reader","onend","e","readBlob_1"],"mappings":"wCAEA,IAAIA,EAAU,CACZ,YAAa,oBACb,QAAS,gBACT,KAAM,YACR,EAEA,SAASC,EAAUC,EAAMC,EAAMC,EAAI,CACjC,IAAIC,EAOJ,GALI,OAAOF,GAAS,WAClBC,EAAKD,EACLA,EAAO,eAGL,EAAED,aAAgB,MAAO,CAC3B,IAAII,EAAM,IAAI,MAAM,8BAA8B,EAClD,GAAIF,EAAI,CACNA,EAAGE,CAAG,EACN,MACN,KACM,QAAO,QAAQ,OAAOA,CAAG,CAE5B,CAEIF,IACHC,EAAU,IAAI,QAAQ,SAAUE,EAASC,EAAQ,CAC/CJ,EAAK,SAAUE,EAAKG,EAAQ,CACtBH,EAAKE,EAAOF,CAAG,EACdC,EAAQE,CAAM,CAC3B,CACA,CAAK,GAGH,IAAIC,EAASV,EAAQG,EAAK,YAAa,CAAA,EACnCQ,EAAS,IAAI,WAEjB,OAAAA,EAAO,iBAAiB,UAAW,SAASC,EAAOC,EAAG,CACpDF,EAAO,oBAAoB,UAAWC,CAAK,EACvCC,EAAE,MACJT,EAAGS,EAAE,KAAK,EAEVT,EAAG,KAAMO,EAAO,MAAM,CAE5B,CAAG,EAEGD,EACFC,EAAOD,CAAM,EAAER,CAAI,EAGnBS,EAAO,WAAWT,EAAMC,CAAI,EAGvBE,CACT,KAEAS,EAAiBb,EAIjB,OAAO,KAAKD,CAAO,EAAE,QAAQ,SAAUG,EAAM,CAC3CF,EAASE,CAAI,EAAI,SAAUD,EAAME,EAAI,CACnC,OAAOH,EAASC,EAAMC,EAAMC,CAAE,CAClC,CACA,CAAC","x_google_ignoreList":[0]}